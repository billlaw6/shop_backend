{"version":3,"sources":["webpack:///src/views/UserManage.vue","webpack:///./src/views/UserManage.vue?53fb","webpack:///./src/views/UserManage.vue"],"names":["UserManage","_this","this","Date","end","required","message","trigger","min","h","index","$t","_this2","_this3","getDate","keyword","pageSize","Object","api","paras","then","res","data","statusText","finish","count","results","error","pageNumber","_this4","addModel","addModelSubmit","errors","_this5","editModel","status","sale_price","price","resetFields","views_UserManage","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","placeholder","icon","clearable","model","value","callback","$$v","expression","_l","option","key","id","username","_v","_s","cell_phone","last_name","first_name","type","on","click","$event","getCustomerData","push","showAddModal","ref","loading","loadingStatus","context","self","aList","columns","tableColumns","stripe","staticStyle","margin","overflow","float","total","current","show-sizer","show-elevator","show-total","page-size","page-size-opts","on-change","changePage","on-page-size-change","changePageSize","title","on-ok","confirmAdd","on-cancel","cancelAdd","rules","ruleValidate","label-width","enctype","accept-charset","label","prop","$set","addModelErrors","confirmEdit","cancelEdit","showEditModal","editModelErrors","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.f97129903a026e78c6a9.js","sourcesContent":["<template>\n  <div class=\"customer-manage\">\n    <Row class=\"search-box\">\n      <Col span=\"8\">\n        <AutoComplete v-model=\"keyword\" :placeholder=\"$t('localSearch')\" icon=\"ios-Textsearch\" :clearable=\"true\">\n          <Option v-for=\"option in aList\" :value=\"option.username\" :key=\"option.id\">\n            <span class=\"customer-name\">{{ option.username }}</span>\n            <span class=\"customer-price\">{{ option.cell_phone }}</span>\n            <span class=\"customer-price\">{{ option.last_name }}</span>\n            <span class=\"customer-price\">{{ option.first_name }}</span>\n          </Option>\n        </AutoComplete>\n      </Col>\n      <Col span=\"3\">\n        <i-button type=\"primary\" @click=\"getCustomerData(pageSize, pageNumber)\">{{ $t('remoteSearch') }}</i-button>\n      </Col>\n      <Col span=\"4\" push=\"9\">\n        <i-button type=\"primary\" @click=\"showAddModal=true\">{{ $t('addCustomer') }}</i-button>\n       </Col>\n    </Row>\n\n    <Table ref=\"table\" class=\"data-table\" :loading=\"loadingStatus\" :context=\"self\" :data=\"aList\" :columns=\"tableColumns\" stripe></Table>\n\n    <div style=\"margin: 10px;overflow: hidden\">\n      <div style=\"float: right;\">\n        <Page :total=\"total\" :current=\"pageNumber\"\n          show-sizer show-elevator show-total\n          :page-size=pageSize\n          :page-size-opts=[10,20,40,10000]\n          @on-change=\"changePage\" \n          @on-page-size-change=\"changePageSize\"\n        >\n        </Page>\n      </div>\n    </div>\n\n    <Modal v-model=\"showAddModal\" title=\"添加客户\" @on-ok=\"confirmAdd('addModelForm')\" @on-cancel=\"cancelAdd('addModelForm')\" >\n      <Form ref=\"addModelForm\" :model=\"addModel\" :rules=\"ruleValidate\" :label-width=\"100\" enctype=\"multipart/form-data\" accept-charset=\"utf-8\">\n        <Form-item :label=\"$t('username')\" prop=\"username\">\n          <Input v-model=\"addModel.username\" :placeholder=\"$t('username')\"></Input>\n          <ul v-for=\"error in addModelErrors.username\">\n            <li class=\"error\">{{ error }}</li>\n          </ul>\n        </Form-item>\n        <Form-item :label=\"$t('cell_phone')\" prop=\"cell_phone\">\n          <Input v-model=\"addModel.cell_phone\" :placeholder=\"$t('cell_phone')\"></Input>\n          <ul v-for=\"error in addModelErrors.cell_phone\">\n            <li class=\"error\">{{ error }}</li>\n          </ul>\n        </Form-item>\n        <Form-item :label=\"$t('last_name')\" prop=\"last_name\">\n          <Input v-model=\"addModel.last_name\" :placeholder=\"$t('last_name')\"></Input>\n          <ul v-for=\"error in addModelErrors.last_name\">\n            <li class=\"error\">{{ error }}</li>\n          </ul>\n        </Form-item>\n        <Form-item :label=\"$t('first_name')\" prop=\"first_name\">\n          <Input v-model=\"addModel.first_name\" :placeholder=\"$t('first_name')\"></Input>\n          <ul v-for=\"error in addModelErrors.first_name\">\n            <li class=\"error\">{{ error }}</li>\n          </ul>\n        </Form-item>\n        <Form-item :label=\"$t('email')\" prop=\"email\">\n          <Input v-model=\"addModel.email\" :placeholder=\"$t('email')\"></Input>\n          <ul v-for=\"error in addModelErrors.email\">\n            <li class=\"error\">{{ error }}</li>\n          </ul>\n        </Form-item>\n      </Form>\n    </Modal>\n\n    <Modal v-model=\"showEditModal\" :title=\"$t('customerManage')\" @on-ok=\"confirmEdit('editModelForm')\" @on-cancel=\"cancelEdit('editModelForm')\" >\n      <Form ref=\"editModelForm\" :model=\"editModel\" :rules=\"ruleValidate\" :label-width=\"100\" enctype=\"multipart/form-data\" accept-charset=\"utf-8\">\n        <Form-item :label=\"$t('username')\" prop=\"username\">\n          <Input v-model=\"editModel.username\" :placeholder=\"$t('username')\"></Input>\n          <ul v-for=\"error in editModelErrors.username\">\n            <li class=\"error\">{{ error }}</li>\n          </ul>\n        </Form-item>\n        <Form-item :label=\"$t('cell_phone')\" prop=\"cell_phone\">\n          <Input v-model=\"editModel.cell_phone\" :placeholder=\"$t('cell_phone')\"></Input>\n          <ul v-for=\"error in editModelErrors.cell_phone\">\n            <li class=\"error\">{{ error }}</li>\n          </ul>\n        </Form-item>\n        <Form-item :label=\"$t('last_name')\" prop=\"last_name\">\n          <Input v-model=\"editModel.last_name\" :placeholder=\"$t('last_name')\"></Input>\n          <ul v-for=\"error in editModelErrors.last_name\">\n            <li class=\"error\">{{ error }}</li>\n          </ul>\n        </Form-item>\n        <Form-item :label=\"$t('first_name')\" prop=\"first_name\">\n          <Input v-model=\"editModel.first_name\" :placeholder=\"$t('first_name')\"></Input>\n          <ul v-for=\"error in editModelErrors.first_name\">\n            <li class=\"error\">{{ error }}</li>\n          </ul>\n        </Form-item>\n        <Form-item :label=\"$t('email')\" prop=\"email\">\n          <Input v-model=\"editModel.email\" :placeholder=\"$t('email')\"></Input>\n          <ul v-for=\"error in editModelErrors.email\">\n            <li class=\"error\">{{ error }}</li>\n          </ul>\n        </Form-item>\n      </Form>\n    </Modal>\n\n  </div>\n</template>\n\n<script>\n  // import { mapState } from 'vuex'\n  import { searchCustomers, createCustomer, updateCustomer } from '@/http/api'\n\n  export default {\n    data: function () {\n      return {\n        uploadedFile: null,\n        loadingStatus: false,\n        dateRange: [new Date((new Date().getTime()) - 3 * 24 * 3600 * 1000), new Date((new Date().getTime()) + 2 * 24 * 3600 * 1000)],\n        dateOptions: {\n          shortcuts: [\n            {\n              text: '最近一周',\n              value () {\n                const end = new Date()\n                const start = new Date()\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\n                return [start, end]\n              }\n            },\n            {\n              text: '最近一个月',\n              value () {\n                const end = new Date()\n                const start = new Date()\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n                return [start, end]\n              }\n            },\n            {\n              text: '最近三个月',\n              value () {\n                const end = new Date()\n                const start = new Date()\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\n                return [start, end]\n              }\n            }\n          ]\n        },\n        keyword: '',\n        showAddModal: false,\n        showEditModal: false,\n        showDeleteModal: false,\n        addModel: {\n          username: '',\n          first_name: '',\n          last_name: '',\n          cell_phone: '',\n          email: ''\n        },\n        addModelErrors: {},\n        editModel: {\n          username: '',\n          first_name: '',\n          last_name: '',\n          cell_phone: '',\n          email: ''\n        },\n        editModelErrors: {},\n        ruleValidate: {\n          username: [\n            { required: true, message: '名字必须的哦', trigger: 'blur' }\n          ],\n          first_name: [\n            { min: 1, message: '至少一个字吧', trigger: 'blur' }\n          ],\n          last_name: [\n            { min: 1, message: '至少一个字吧', trigger: 'blur' }\n          ],\n          cell_phone: [\n            { required: true, message: '留个电话吧', trigger: 'blur' }\n          ]\n        },\n        self: this,\n        tableData: [],\n        total: 0,\n        pageNumber: 1,\n        pageSize: 10,\n        tableColumns: [\n          {\n            title: '用户名',\n            key: 'username',\n            align: 'center',\n            sortable: true\n          },\n          {\n            title: this.$t('last_name'),\n            key: 'last_name',\n            align: 'left'\n          },\n          {\n            title: this.$t('first_name'),\n            key: 'first_name',\n            align: 'left'\n          },\n          {\n            title: this.$t('action'),\n            key: 'action',\n            width: 150,\n            align: 'center',\n            render: (h, params) => {\n              return h('div', [\n                h('Button', {\n                  props: {\n                    type: 'primary',\n                    size: 'small'\n                  },\n                  style: {\n                    marginRight: '5px'\n                  },\n                  on: {\n                    click: () => {\n                      this.showEdit(params.index)\n                    }\n                  }\n                }, this.$t('edit'))\n              ])\n            }\n          }\n        ]\n      }\n    },\n    computed: {\n      aList: function () {\n        // 用于autocomplete\n        if (Array.isArray(this.tableData)) {\n          return this.tableData.filter((item, index, array) => {\n            if (this.keyword) {\n              if (item.username.toUpperCase().indexOf(this.keyword.toUpperCase()) !== -1) {\n                return array.indexOf(item) === index\n              } else if (item.last_name.toString().indexOf(this.keyword.toUpperCase()) !== -1) {\n                return true\n              } else if (item.first_name.toUpperCase().indexOf(this.keyword.toUpperCase()) !== -1) {\n                return true\n              } else if (item.cell_phone.toUpperCase().indexOf(this.keyword.toUpperCase()) !== -1) {\n                return true\n              } else {\n                return false\n              }\n            } else {\n              return true\n            }\n          })\n        } else {\n          return []\n        }\n      }\n    },\n    methods: {\n      showEdit (index) {\n        this.showEditModal = true\n        this.editModel = this.aList[index]\n      },\n      // 获取客户列表\n      getCustomerData: function (pageSize, pageNumber) {\n        this.loadingStatus = true\n        let paras = {\n          start: this.dateRange[0].getFullYear() + '-' + (this.dateRange[0].getMonth() + 1) + '-' + (this.dateRange[0].getDate()),\n          end: this.dateRange[1].getFullYear() + '-' + (this.dateRange[1].getMonth() + 1) + '-' + (this.dateRange[1].getDate()),\n          keyword: this.keyword,\n          limit: pageSize,\n          offset: (pageNumber - 1) * pageSize\n        }\n        // console.log(paras)\n        searchCustomers(paras).then((res) => {\n          let { data, status, statusText } = res\n          if (status !== 200) {\n            this.loginMessage = statusText\n          } else {\n            console.log(data)\n            this.$Loading.finish()\n            this.total = res.data.count\n            this.tableData = data.results\n          }\n        }, (error) => {\n          console.log('Error in searchCustomers: ' + error)\n          this.$Message.error('获取客户列表失败!')\n        }).catch((error) => {\n          console.log('catched in searchCustomers:' + error)\n          this.$Message.error('获取客户列表失败!')\n        })\n        this.loadingStatus = false\n      },\n      changePage (pageNumber) {\n        console.log(pageNumber)\n        this.pageNumber = pageNumber\n        this.getCustomerData(this.pageSize, this.pageNumber)\n      },\n      changePageSize (pageSize) {\n        console.log(pageSize)\n        this.pageSize = pageSize\n        this.getCustomerData(this.pageSize, this.pageNumber)\n      },\n      exportData (type) {\n        if (type === 1) {\n          this.$refs.table.exportCsv({\n            filename: 'CustomerList' + new Date()\n          })\n        } else if (type === 2) {\n          this.$refs.table.exportCsv({\n            filename: 'CustomerList_sorted_filtered' + new Date(),\n            original: false\n          })\n        } else if (type === 3) {\n          this.$refs.table.exportCsv({\n            filename: 'CustomerList_customed' + new Date(),\n            columns: this.tableColumns.filter((col, index) => index < 4),\n            data: this.aList.filter((data, index) => index < 10)\n          })\n        }\n      },\n      // 撤销添加\n      cancelAdd () {\n        this.showAddModel = false\n        this.$Message.info('点击了取消')\n      },\n      // 增加客户\n      confirmAdd: function (name) {\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n            // 坑，注意javascript的浅复制，使用JSON实现深复制\n            this.addModelErrors = {}\n            let addModelSubmit = JSON.stringify(this.addModel)\n            addModelSubmit = JSON.parse(addModelSubmit)\n            // console.log(addModelSubmit)\n            createCustomer(addModelSubmit).then((res) => {\n              let { data, status, statusText } = res\n              if (status !== 201) {\n                this.loginMessage = statusText\n                // console.log(data.detail)\n                this.addModelErrors = data\n                this.$Message.error('添加客户失败!')\n                this.showAddModel = true\n              } else {\n                console.log(data)\n                this.$Message.success('添加客户成功!')\n                // this.showAddModel = false\n                // 更新客户列表\n                this.getCustomerData(this.pageSize, this.pageNumber)\n              }\n            }, (error) => {\n              console.log('Error in addCustomer: ' + error)\n              this.$Message.error('添加客户失败!')\n            }).catch((error) => {\n              console.log('Exception in addCustomer: ' + error)\n              this.$Message.error('添加客户失败!')\n            })\n          } else {\n            console.log(this.$refs[name].errors)\n            console.log(this.addModel)\n            this.$Message.error('表单验证失败!')\n          }\n        })\n      },\n      // 撤销修改\n      cancelEdit () {\n        this.showEditModel = false\n        this.$Message.info('点击了取消')\n      },\n      // 修改客户\n      confirmEdit: function (name) {\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n            // 用这个办法实现深复制\n            this.editModelErrors = {}\n            let editModelSubmit = JSON.parse(JSON.stringify(this.editModel))\n            // console.log(editModelSubmit)\n            updateCustomer(editModelSubmit).then((res) => {\n              let { data, status, statusText } = res\n              if (status !== 201) {\n                console.log(statusText)\n                this.editModelErrors = data\n                this.$Message.error(status)\n                this.showEditModel = true\n              } else {\n                data.sale_price = Number(data.sale_price)\n                data.price = Number(data.price)\n                console.log(data)\n                // this.editModel = JSON.parse(data)\n                // this.editModel = data\n                // this.showEditModel = false\n                this.$Message.success('修改客户成功!')\n                this.getCustomerData(this.pageSize, this.pageNumber)\n              }\n            }, (error) => {\n              console.log('Error in editCustomer: ' + error)\n              this.$Message.error('修改客户失败!')\n            }).catch((error) => {\n              console.log('catched in editCustomer:' + error)\n              this.$Message.error('修改客户失败!')\n            })\n          } else {\n            this.$Message.error('客户信息校验失败!')\n          }\n        })\n      },\n      handleReset (name) {\n        this.$refs[name].resetFields()\n      },\n      handleFormatError: function () {\n        this.$Message.error(this.$t('format_error'))\n      }\n    },\n    mounted () {\n      this.getCustomerData(this.pageSize, this.pageNumber)\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"stylus\" scoped>\n  @import '../common/vars'\n  .search-box\n    margin: 6px\n  .customer-manage\n    margin: 6px\n  .data-table\n    margin: 6px\n  .customer-image\n    width: 100%\n    height: 100%\n  .warning-title\n    color: $warning-color\n    text-align: center\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/UserManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"customer-manage\"},[_c('Row',{staticClass:\"search-box\"},[_c('Col',{attrs:{\"span\":\"8\"}},[_c('AutoComplete',{attrs:{\"placeholder\":_vm.$t('localSearch'),\"icon\":\"ios-Textsearch\",\"clearable\":true},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}},_vm._l((_vm.aList),function(option){return _c('Option',{key:option.id,attrs:{\"value\":option.username}},[_c('span',{staticClass:\"customer-name\"},[_vm._v(_vm._s(option.username))]),_vm._v(\" \"),_c('span',{staticClass:\"customer-price\"},[_vm._v(_vm._s(option.cell_phone))]),_vm._v(\" \"),_c('span',{staticClass:\"customer-price\"},[_vm._v(_vm._s(option.last_name))]),_vm._v(\" \"),_c('span',{staticClass:\"customer-price\"},[_vm._v(_vm._s(option.first_name))])])}))],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"3\"}},[_c('i-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.getCustomerData(_vm.pageSize, _vm.pageNumber)}}},[_vm._v(_vm._s(_vm.$t('remoteSearch')))])],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"4\",\"push\":\"9\"}},[_c('i-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showAddModal=true}}},[_vm._v(_vm._s(_vm.$t('addCustomer')))])],1)],1),_vm._v(\" \"),_c('Table',{ref:\"table\",staticClass:\"data-table\",attrs:{\"loading\":_vm.loadingStatus,\"context\":_vm.self,\"data\":_vm.aList,\"columns\":_vm.tableColumns,\"stripe\":\"\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.total,\"current\":_vm.pageNumber,\"show-sizer\":\"\",\"show-elevator\":\"\",\"show-total\":\"\",\"page-size\":_vm.pageSize,\"page-size-opts\":[10,20,40,10000]},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.changePageSize}})],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"添加客户\"},on:{\"on-ok\":function($event){_vm.confirmAdd('addModelForm')},\"on-cancel\":function($event){_vm.cancelAdd('addModelForm')}},model:{value:(_vm.showAddModal),callback:function ($$v) {_vm.showAddModal=$$v},expression:\"showAddModal\"}},[_c('Form',{ref:\"addModelForm\",attrs:{\"model\":_vm.addModel,\"rules\":_vm.ruleValidate,\"label-width\":100,\"enctype\":\"multipart/form-data\",\"accept-charset\":\"utf-8\"}},[_c('Form-item',{attrs:{\"label\":_vm.$t('username'),\"prop\":\"username\"}},[_c('Input',{attrs:{\"placeholder\":_vm.$t('username')},model:{value:(_vm.addModel.username),callback:function ($$v) {_vm.$set(_vm.addModel, \"username\", $$v)},expression:\"addModel.username\"}}),_vm._v(\" \"),_vm._l((_vm.addModelErrors.username),function(error){return _c('ul',[_c('li',{staticClass:\"error\"},[_vm._v(_vm._s(error))])])})],2),_vm._v(\" \"),_c('Form-item',{attrs:{\"label\":_vm.$t('cell_phone'),\"prop\":\"cell_phone\"}},[_c('Input',{attrs:{\"placeholder\":_vm.$t('cell_phone')},model:{value:(_vm.addModel.cell_phone),callback:function ($$v) {_vm.$set(_vm.addModel, \"cell_phone\", $$v)},expression:\"addModel.cell_phone\"}}),_vm._v(\" \"),_vm._l((_vm.addModelErrors.cell_phone),function(error){return _c('ul',[_c('li',{staticClass:\"error\"},[_vm._v(_vm._s(error))])])})],2),_vm._v(\" \"),_c('Form-item',{attrs:{\"label\":_vm.$t('last_name'),\"prop\":\"last_name\"}},[_c('Input',{attrs:{\"placeholder\":_vm.$t('last_name')},model:{value:(_vm.addModel.last_name),callback:function ($$v) {_vm.$set(_vm.addModel, \"last_name\", $$v)},expression:\"addModel.last_name\"}}),_vm._v(\" \"),_vm._l((_vm.addModelErrors.last_name),function(error){return _c('ul',[_c('li',{staticClass:\"error\"},[_vm._v(_vm._s(error))])])})],2),_vm._v(\" \"),_c('Form-item',{attrs:{\"label\":_vm.$t('first_name'),\"prop\":\"first_name\"}},[_c('Input',{attrs:{\"placeholder\":_vm.$t('first_name')},model:{value:(_vm.addModel.first_name),callback:function ($$v) {_vm.$set(_vm.addModel, \"first_name\", $$v)},expression:\"addModel.first_name\"}}),_vm._v(\" \"),_vm._l((_vm.addModelErrors.first_name),function(error){return _c('ul',[_c('li',{staticClass:\"error\"},[_vm._v(_vm._s(error))])])})],2),_vm._v(\" \"),_c('Form-item',{attrs:{\"label\":_vm.$t('email'),\"prop\":\"email\"}},[_c('Input',{attrs:{\"placeholder\":_vm.$t('email')},model:{value:(_vm.addModel.email),callback:function ($$v) {_vm.$set(_vm.addModel, \"email\", $$v)},expression:\"addModel.email\"}}),_vm._v(\" \"),_vm._l((_vm.addModelErrors.email),function(error){return _c('ul',[_c('li',{staticClass:\"error\"},[_vm._v(_vm._s(error))])])})],2)],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":_vm.$t('customerManage')},on:{\"on-ok\":function($event){_vm.confirmEdit('editModelForm')},\"on-cancel\":function($event){_vm.cancelEdit('editModelForm')}},model:{value:(_vm.showEditModal),callback:function ($$v) {_vm.showEditModal=$$v},expression:\"showEditModal\"}},[_c('Form',{ref:\"editModelForm\",attrs:{\"model\":_vm.editModel,\"rules\":_vm.ruleValidate,\"label-width\":100,\"enctype\":\"multipart/form-data\",\"accept-charset\":\"utf-8\"}},[_c('Form-item',{attrs:{\"label\":_vm.$t('username'),\"prop\":\"username\"}},[_c('Input',{attrs:{\"placeholder\":_vm.$t('username')},model:{value:(_vm.editModel.username),callback:function ($$v) {_vm.$set(_vm.editModel, \"username\", $$v)},expression:\"editModel.username\"}}),_vm._v(\" \"),_vm._l((_vm.editModelErrors.username),function(error){return _c('ul',[_c('li',{staticClass:\"error\"},[_vm._v(_vm._s(error))])])})],2),_vm._v(\" \"),_c('Form-item',{attrs:{\"label\":_vm.$t('cell_phone'),\"prop\":\"cell_phone\"}},[_c('Input',{attrs:{\"placeholder\":_vm.$t('cell_phone')},model:{value:(_vm.editModel.cell_phone),callback:function ($$v) {_vm.$set(_vm.editModel, \"cell_phone\", $$v)},expression:\"editModel.cell_phone\"}}),_vm._v(\" \"),_vm._l((_vm.editModelErrors.cell_phone),function(error){return _c('ul',[_c('li',{staticClass:\"error\"},[_vm._v(_vm._s(error))])])})],2),_vm._v(\" \"),_c('Form-item',{attrs:{\"label\":_vm.$t('last_name'),\"prop\":\"last_name\"}},[_c('Input',{attrs:{\"placeholder\":_vm.$t('last_name')},model:{value:(_vm.editModel.last_name),callback:function ($$v) {_vm.$set(_vm.editModel, \"last_name\", $$v)},expression:\"editModel.last_name\"}}),_vm._v(\" \"),_vm._l((_vm.editModelErrors.last_name),function(error){return _c('ul',[_c('li',{staticClass:\"error\"},[_vm._v(_vm._s(error))])])})],2),_vm._v(\" \"),_c('Form-item',{attrs:{\"label\":_vm.$t('first_name'),\"prop\":\"first_name\"}},[_c('Input',{attrs:{\"placeholder\":_vm.$t('first_name')},model:{value:(_vm.editModel.first_name),callback:function ($$v) {_vm.$set(_vm.editModel, \"first_name\", $$v)},expression:\"editModel.first_name\"}}),_vm._v(\" \"),_vm._l((_vm.editModelErrors.first_name),function(error){return _c('ul',[_c('li',{staticClass:\"error\"},[_vm._v(_vm._s(error))])])})],2),_vm._v(\" \"),_c('Form-item',{attrs:{\"label\":_vm.$t('email'),\"prop\":\"email\"}},[_c('Input',{attrs:{\"placeholder\":_vm.$t('email')},model:{value:(_vm.editModel.email),callback:function ($$v) {_vm.$set(_vm.editModel, \"email\", $$v)},expression:\"editModel.email\"}}),_vm._v(\" \"),_vm._l((_vm.editModelErrors.email),function(error){return _c('ul',[_c('li',{staticClass:\"error\"},[_vm._v(_vm._s(error))])])})],2)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-8f22b658\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/UserManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/.13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8f22b658\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/.13.7.0@vue-loader/lib/selector?type=styles&index=0!./UserManage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/.13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./UserManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./UserManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/.13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8f22b658\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/.13.7.0@vue-loader/lib/selector?type=template&index=0!./UserManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8f22b658\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/UserManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}