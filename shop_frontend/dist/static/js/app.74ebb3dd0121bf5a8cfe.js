webpackJsonp([14],{GCZq:function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={};t.d(o,"setSitename",function(){return g});var a={};t.d(a,"debug",function(){return S}),t.d(a,"user",function(){return v}),t.d(a,"username",function(){return _});var i=t("rVsN"),r=t.n(i),s=t("VCXJ"),u=t("zO6J");s.default.use(u.a);var c,l=new u.a({routes:[{path:"/home",name:"home",component:function(e){return Promise.all([t.e(0),t.e(2)]).then(function(){var n=[t("HXef")];e.apply(null,n)}.bind(this)).catch(t.oe)},meta:{hidden:!1}},{path:"/product",name:"product",component:function(e){return Promise.all([t.e(0),t.e(9)]).then(function(){var n=[t("099G")];e.apply(null,n)}.bind(this)).catch(t.oe)},meta:{hidden:!1}},{path:"/login",name:"login",component:function(e){return Promise.all([t.e(0),t.e(7)]).then(function(){var n=[t("P7ry")];e.apply(null,n)}.bind(this)).catch(t.oe)},meta:{hidden:!1}},{path:"/oauthLogin",name:"oauthLogin",component:function(e){return Promise.all([t.e(0),t.e(1)]).then(function(){var n=[t("dkY9")];e.apply(null,n)}.bind(this)).catch(t.oe)},meta:{hidden:!1}},{path:"/pass_reset",name:"pass_reset",component:function(e){return Promise.all([t.e(0),t.e(5)]).then(function(){var n=[t("rcGr")];e.apply(null,n)}.bind(this)).catch(t.oe)},meta:{hidden:!1}},{path:"/pass_reset_confirm",name:"pass_reset_confirm",component:function(e){return Promise.all([t.e(0),t.e(3)]).then(function(){var n=[t("J2Sp")];e.apply(null,n)}.bind(this)).catch(t.oe)},meta:{hidden:!1}},{path:"/password_change",name:"pass_change",component:function(e){return Promise.all([t.e(0),t.e(6)]).then(function(){var n=[t("yED6")];e.apply(null,n)}.bind(this)).catch(t.oe)},meta:{hidden:!1}},{path:"/register",name:"register",component:function(e){return Promise.all([t.e(0),t.e(4)]).then(function(){var n=[t("S2NW")];e.apply(null,n)}.bind(this)).catch(t.oe)},meta:{hidden:!1}},{path:"/protocal",name:"Protocal",component:function(e){return t.e(8).then(function(){var n=[t("05yZ")];e.apply(null,n)}.bind(this)).catch(t.oe)},meta:{hidden:!1}},{path:"/privacy",name:"privacy",component:function(e){return t.e(10).then(function(){var n=[t("fe4i")];e.apply(null,n)}.bind(this)).catch(t.oe)},meta:{hidden:!1}},{path:"/401",name:"p401",component:function(e){return t.e(12).then(function(){var n=[t("wEzC")];e.apply(null,n)}.bind(this)).catch(t.oe)},meta:{requireAuth:!0,permission:"add_group",iconCls:"ios-star",leaf:!0,menu_name:"商品管理",hidden:!1}},{path:"/404",name:"p404",component:function(e){return t.e(11).then(function(){var n=[t("c5Mg")];e.apply(null,n)}.bind(this)).catch(t.oe)},meta:{requireAuth:!1,permission:"add_group",iconCls:"ios-star",leaf:!0,menu_name:"商品管理",hidden:!1}}]}),p=t("BSNB"),m=t.n(p),h=t("jQAA"),f=t.n(h),d=(t("spJv"),t("alSf"),t("9rMa")),g=(t("6LYt"),function(e,n){var t=e.commit,o=e.state;t("SET_SITE_NAME",{sitename:n.sitename}),console.log(o.sitename)}),S=function(e){return!1},v=function(e){return e.login.user},_=function(e){return null!==e.login.user?(console.log("has username"),e.login.user.username):(console.log("no username"),null)},T=t("a3Yh"),E=t.n(T),y=E()({},"SET_SITE_NAME",function(e,n){var t=n.sitename;e.sitename=t}),b={state:{accessToken:null,loginStatus:!1,user:null,permissions:null},getters:{loginStatus:function(e,n,t){return e.loginStatus},permissions:function(e,n,t){return e.permissions}},actions:{setToken:function(e,n){e.state;var t=e.commit;e.rootState;t("login/SET_ACCESS_TOKEN",n)},setLoginStatus:function(e,n){e.state;var t=e.commit;e.rootState;t("login/SET_LOGIN_STATUS",n)},setUser:function(e,n){e.state;var t=e.commit;e.rootState;t("login/SET_CURRENT_USER",n)}},mutations:(c={},E()(c,"login/SET_ACCESS_TOKEN",function(e,n){e.accessToken=n}),E()(c,"login/SET_LOGIN_STATUS",function(e,n){e.loginStatus=n}),E()(c,"login/SET_CURRENT_USER",function(e,n){e.user=n}),c)};s.default.use(d.a);var w=new d.a.Store({state:{sitename:"小蜗牛直销管理系统",baseUrl:"http://localhost:8000",mediaRoot:"http://localhost:8000/media/"},mutations:y,getters:a,actions:o,modules:{login:b},strict:!1,plugins:[]}),A=t("2sCs"),N=t.n(A),C=(s.default.filter("capitalize",function(e){return e?(e=e.toString()).charAt(0).toUpperCase()+e.slice(1):""}),/(\d{3})(?=\d)/g);s.default.filter("formatSex",function(e,n){return 1===e.sex?"男":0===e.sex?"女":"未知"});var P={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var k=t("X4nt")({name:"app"},P,!1,function(e){t("GCZq")},null,null).exports;s.default.filter("currency",function(e,n,t){if(e=parseFloat(e),!isFinite(e)||!e&&0!==e)return"";n=null!=n?n:"￥",t=null!=t?t:2;var o=Math.abs(e).toFixed(t),a=t?o.slice(0,-1-t):o,i=a.length%3,r=i>0?a.slice(0,i)+(a.length>3?",":""):"",s=t?o.slice(-1-t):"";return(e<0?"-":"")+n+r+a.slice(i).replace(C,"￥1,")+s}),s.default.use(m.a),s.default.use(f.a),N.a.interceptors.request.use(function(e){var n=window.sessionStorage.accessToken;return n&&(e.headers.Authorization="Token "+n),e},function(e){return r.a.reject(e)}),l.beforeEach(function(e,n,t){var o=window.sessionStorage.getItem("accessToken"),a=JSON.parse(window.sessionStorage.getItem("user")),i=JSON.parse(window.sessionStorage.getItem("permissions"));e.matched.some(function(e){return e.meta.requireAuth})?o&&a?"undefined"===e.meta.permission?(console.log(i.some(e.meta.permission)),t()):i.some(function(n){return n.codename===e.meta.permission})?(console.log("Has permission"),t()):(console.log("Lack of permission"),t({path:n.path})):t({name:"login",query:{redirect:e.fullPath}}):t()}),s.default.config.productionTip=!1,new s.default({el:"#app",router:l,template:"<App/>",components:{App:k},store:w})},alSf:function(e,n){},spJv:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.74ebb3dd0121bf5a8cfe.js.map