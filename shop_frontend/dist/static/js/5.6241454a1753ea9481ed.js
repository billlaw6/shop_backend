webpackJsonp([5],{FPsF:function(t,e){},OA6q:function(t,e){},"SMD/":function(t,e){},SPAX:function(t,e){},ZTBs:function(t,e,a){"use strict";var s=a("34v0"),n=a.n(s),r=a("EcfS"),i={props:{item:{type:Object,default:{}}},data:function(){return{amount:1}},computed:n()({},Object(r.e)({decimals:function(t){return t.cart.decimals},saleUnit:function(t){return t.saleUnit}}),{imageUrl:function(){return this.item.image?this.item.image.replace("sale-manage/products/shop_frontend/dist/",""):""}}),methods:{amountDecrease:function(){console.debug("amount decrease"),this.amount>.2&&(this.amount=parseFloat((this.amount-this.saleUnit).toFixed(this.decimals)))},amountIncrease:function(){console.debug("amount increase"),parseFloat(this.amount)<99&&(this.amount=parseFloat((this.amount+this.saleUnit).toFixed(this.decimals)))},addToCart:function(){console.debug("add to cart"),this.$store.dispatch("cart/addCartItem",{item:this.item,amount:this.amount}),this.$Message.success({title:"加入购物车成功",content:"加入购物车成功"})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product"},[a("router-link",{attrs:{to:{name:"detail",params:{productId:t.item.id}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imageUrl,expression:"imageUrl"}],attrs:{alt:"product"}}),a("br"),t._v(" "),a("span",{staticClass:"name"},[t._v(t._s(t.item.name))]),t._v(" "),a("span",{staticClass:"price"},[t._v(t._s(t._f("currency")(t.item.price)))])]),t._v(" "),a("div",{staticClass:"product-operate"},[a("Input",{staticClass:"amount",attrs:{size:"large",number:!0},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}},[a("span",{attrs:{slot:"prepend"},on:{click:t.amountDecrease},slot:"prepend"},[a("Icon",{attrs:{type:"android-remove"}})],1),t._v(" "),a("span",{attrs:{slot:"append"},on:{click:t.amountIncrease},slot:"append"},[a("Icon",{attrs:{type:"android-add"}})],1)]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.addToCart}},[t._v("加入购物车")])],1)],1)},staticRenderFns:[]};var c=a("ngHh")(i,o,!1,function(t){a("ZkPa")},"data-v-f8b9274e",null);e.a=c.exports},ZkPa:function(t,e){},i2PG:function(t,e){},mlqX:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("IPfJ"),n=a("/e58"),r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"divider"},[this._v("\n  更多宝贝，敬请期待！\n")])},staticRenderFns:[]};var i=a("ngHh")({},r,!1,function(t){a("SMD/")},"data-v-4e20fbae",null).exports,o={beforeCreate:function(){console.log("Service.vue creating")}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Row",{staticClass:"service"},[e("Col",{attrs:{span:"8"}},[e("Icon",{attrs:{type:"checkmark"}}),e("span",[this._v("自营品牌")])],1),this._v(" "),e("Col",{attrs:{span:"8"}},[e("Icon",{attrs:{type:"checkmark"}}),e("span",[this._v("无忧退货")])],1),this._v(" "),e("Col",{attrs:{span:"8"}},[e("Icon",{attrs:{type:"checkmark"}}),e("span",[this._v("48小时快速退款")])],1)],1)},staticRenderFns:[]};var d=a("ngHh")(o,c,!1,function(t){a("SPAX")},"data-v-659a7d3c",null).exports,u=a("3SZ7"),l=a.n(u),p=a("34v0"),m=a.n(p),f=a("m4jk"),v=a("EcfS"),h={components:{"v-product":a("ZTBs").a},data:function(){return{keyword:"",datas:"",mList:""}},computed:m()({},Object(v.c)("category",["productListCount"]),{aList:function(){var t=this;return Array.isArray(this.datas.results)?JSON.parse(l()(this.datas.results)).filter(function(e,a,s){return-1!==e.name.toUpperCase().indexOf(t.keyword.toUpperCase())?s.indexOf(e)===a:-1!==e.price.toString().indexOf(t.keyword.toUpperCase())||(-1!==e.pinyin.toUpperCase().indexOf(t.keyword.toUpperCase())||(-1!==e.py.toUpperCase().indexOf(t.keyword.toUpperCase())||-1!==e.description.toUpperCase().indexOf(t.keyword.toUpperCase())))}):[]}}),methods:m()({},Object(v.b)({setProductList:"category/setProductList"}),{searchProduct:function(){var t=this;if(Array.isArray(this.datas.results)){var e=JSON.parse(l()(this.datas.results)).filter(function(e,a,s){return-1!==e.name.toUpperCase().indexOf(t.keyword.toUpperCase())||(-1!==e.price.toString().indexOf(t.keyword)||(-1!==e.pinyin.toUpperCase().indexOf(t.keyword.toUpperCase())||(-1!==e.py.toUpperCase().indexOf(t.keyword.toUpperCase())||-1!==e.description.toUpperCase().indexOf(t.keyword.toUpperCase()))))});this.mList.results=e}}}),beforeCreate:function(){var t=this;Object(f.o)({limit:1e4,offset:0}).then(function(e){var a=t;console.debug("data gotton in Products:"),console.debug(e.data),a.datas=e.data,a.mList=JSON.parse(l()(e.data)),a.setProductList(a.mList).then(function(){console.debug("state product list set")})}).catch(function(t){console.error(t)})}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"products"},[a("div",{staticClass:"product-search"},[a("div",{staticClass:"search-box"},[a("AutoComplete",{attrs:{placeholder:"搜",icon:"ios-search",clearable:!0},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},t._l(t.aList,function(e){return a("Option",{key:e.id,attrs:{value:e.name}},[a("span",{staticClass:"product-name"},[t._v(t._s(e.name))]),t._v(" "),a("span",{staticClass:"product-price"},[t._v(t._s(t._f("currency")(e.price)))])])}))],1),t._v(" "),a("div",{staticClass:"search-button"},[a("Button",{attrs:{type:"primary"},on:{click:t.searchProduct}},[t._v("搜")])],1)]),t._v(" "),a("ul",{staticClass:"product-list"},t._l(t.mList.results,function(t){return a("li",{key:t.id,staticClass:"product"},[a("v-product",{attrs:{item:t}})],1)}))])},staticRenderFns:[]};var _=a("ngHh")(h,C,!1,function(t){a("OA6q")},"data-v-093fc79e",null).exports,y={data:function(){return{datas:""}},computed:{mList:function(){return this.datas.results.forEach(function(t,e,a){t.image=t.image.replace("rest-api/products/shop_frontend/dist/","")}),this.datas.results}},beforeCreate:function(){var t=this;console.log("Carousel.vue creating"),console.debug("datas before api:"+this.datas),Object(f.k)({method:"get",url:"/rest-api/hot-products/"}).then(function(e){console.debug("data gotten in Carousel:"),console.debug(e.data),t.datas=e.data}).catch(function(t){console.error(t)})}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Row",[e("Col",{staticClass:"hot-product",attrs:{span:"20"}},[this.datas?e("Carousel",{attrs:{autoplay:""}},this._l(this.mList,function(t){return e("CarouselItem",{key:t.id,staticClass:"carousel-item"},[e("router-link",{attrs:{to:{name:"detail",params:{productId:t.id}}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.image,expression:"k.image"}],attrs:{alt:""}})])],1)})):this._e()],1),this._v(" "),e("Col",{staticClass:"hot-product-desc",attrs:{span:"4"}},[this._v("\n    热销产品说明\n  ")])],1)},staticRenderFns:[]};var k=a("ngHh")(y,g,!1,function(t){a("FPsF")},"data-v-f61b965c",null).exports,b={components:{"index-header":s.a,"index-footer":n.a,"v-divider":i,"v-service":d,"v-products":_,"v-carousel":k},data:function(){return{datas:{},loading:!0}},methods:{},created:function(){console.debug("Index.vue created")},mounted:function(){console.debug("Index.vue mounted")},nextTick:function(){console.debug("nextTick")}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"index"},[e("index-header"),this._v(" "),e("v-service"),this._v(" "),e("v-products"),this._v(" "),e("v-divider"),this._v(" "),e("index-footer")],1)},staticRenderFns:[]};var O=a("ngHh")(b,x,!1,function(t){a("i2PG")},"data-v-5c39bb42",null);e.default=O.exports}});
//# sourceMappingURL=5.6241454a1753ea9481ed.js.map