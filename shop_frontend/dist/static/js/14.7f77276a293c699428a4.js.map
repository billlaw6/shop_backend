{"version":3,"sources":["webpack:///src/views/ProductDetail.vue","webpack:///./src/views/ProductDetail.vue?8d74","webpack:///./src/views/ProductDetail.vue"],"names":["ProductDetail","IndexHeader","IndexFooter","computed","extends_default","Object","vuex_esm","decimals","cartList","saleUnit","methods","amount","_this","this","data","error","views_ProductDetail","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","autoplay","_l","productDetail","item","key","order","directives","name","rawName","value","expression","alt","span","_s","_f","price","size","number","model","callback","$$v","slot","on","click","amountDecrease","type","amountIncrease","label","justify","addToCart","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.7f77276a293c699428a4.js","sourcesContent":["<template lang=\"html\">\n  <div class=\"detail\">\n    <index-header></index-header> \n    <Carousel autoplay>\n      <CarouselItem v-for=\"item in productDetail.carouselImages\" :key=\"item.order\" class=\"carousel-item\">\n        <img v-lazy=\"item.image\" alt=\"\">\n      </CarouselItem>\n    </Carousel>\n\n    <Row class=\"description\">\n      <Col span=\"16\">\n        <span class=\"product-name\">{{ productDetail.name }}</span> \n      </Col>\n      <Col span=\"8\">\n        <span class=\"product-price\">{{ productDetail.price | currency }}</span>\n      </Col>\n    </Row>\n\n    <Row class=\"operate\">\n      <Col span=\"12\">\n        <Input class=\"amount\" v-model=\"amount\" size=\"large\" :number=\"true\">\n          <span slot=\"prepend\" v-on:click=\"amountDecrease\"><Icon type=\"android-remove\"></Icon></span>\n          <span slot=\"append\" v-on:click=\"amountIncrease\"><Icon type=\"android-add\"></Icon></span>\n        </Input>\n        <span>千克</span>\n      </Col>\n      <Col span=\"4\" class=\"sum-price\">\n        <span>小计：{{ this.productDetail.price * this.amount | currency }}</span>\n      </Col>\n    </Row>\n\n    <Tabs value=\"detail\">\n      <TabPane label=\"图片详情\" name=\"detail-pictures\">\n        Pictures\n      </TabPane>\n      <TabPane label=\"文字详情\" name=\"detail-description\">\n        Description\n      </TabPane>\n    </Tabs>\n\n    <Row type=\"flex\" justify=\"space-around\" class=\"footer\">\n      <Col span=\"6\" class=\"add-to-cart\">\n        <div v-on:click=\"addToCart\">\n          <Icon type=\"ios-cart\" :size=\"24\"></Icon>\n          <span>加入购物车</span>\n        </div>\n      </Col>\n    </Row>\n\n    <index-footer></index-footer> \n  </div>\n</template>\n\n<script>\n  import IndexHeader from '@/views/components/common/IndexHeader.vue'\n  import IndexFooter from '@/views/components/common/IndexFooter.vue'\n  import { getProductDetail } from '../http/api'\n  import { mapState, mapActions } from 'vuex'\n\n  export default {\n    components: {\n      'index-header': IndexHeader,\n      'index-footer': IndexFooter\n    },\n    data () {\n      return {\n        productDetail: '',\n        amount: 1\n      }\n    },\n    computed: {\n      ...mapState({\n        // 大括号方式需要转成对象\n        decimals: state => state.cart.decimals,\n        cartList: state => state.cart.cartList,\n        saleUnit: state => state.saleUnit\n      })\n    },\n    methods: {\n      // 带模块命名空间的写简约写法\n      ...mapActions('cart', [\n        // 中括号方式可直接映射，但只能同名映射\n        'removeCartItem',\n        'addCartItem'\n      ]),\n      amountDecrease: function () {\n        console.debug('amount decrease')\n        if (this.amount > 0.2) {\n          this.amount = parseFloat((this.amount - this.saleUnit).toFixed(this.decimals))\n        }\n      },\n      amountIncrease: function () {\n        console.debug('amount increase')\n        if (parseFloat(this.amount) < 99) {\n          this.amount = parseFloat((this.amount + this.saleUnit).toFixed(this.decimals))\n        }\n      },\n      addToCart: function () {\n        console.debug('add to cart')\n        this.$store.dispatch('cart/addCartItem', {'item': this.productDetail, 'amount': this.amount})\n        this.$Modal.success({\n          title: '加入购物车成功',\n          content: '加入购物车成功'\n        })\n      }\n    },\n    beforeCreate () {\n      console.debug('Detail.vue creating')\n      getProductDetail(this.$route.params.productId).then((response) => {\n        console.debug('data gotten in Detail:')\n        console.debug(response.data)\n        this.productDetail = response.data\n      }).catch(function (error) {\n        console.error(error)\n      })\n    }\n  }\n</script>\n\n<style lang=\"stylus\" scoped>\n  .ivu-carousel\n    img\n      display: inline\n      width: 100%\n  .amount\n    width: 30vw\n  .footer\n    // background-color: red\n    height: 10vh\n    width: 100vw\n    position: fixed\n    bottom: 0.1vh\n    div\n      text-align: center\n      color: $primary-color\n      // display: inline-block\n      vertical-align: middle\n      span\n        color: red\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/ProductDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\"},[_c('index-header'),_vm._v(\" \"),_c('Carousel',{attrs:{\"autoplay\":\"\"}},_vm._l((_vm.productDetail.carouselImages),function(item){return _c('CarouselItem',{key:item.order,staticClass:\"carousel-item\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.image),expression:\"item.image\"}],attrs:{\"alt\":\"\"}})])})),_vm._v(\" \"),_c('Row',{staticClass:\"description\"},[_c('Col',{attrs:{\"span\":\"16\"}},[_c('span',{staticClass:\"product-name\"},[_vm._v(_vm._s(_vm.productDetail.name))])]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"8\"}},[_c('span',{staticClass:\"product-price\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.productDetail.price)))])])],1),_vm._v(\" \"),_c('Row',{staticClass:\"operate\"},[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Input',{staticClass:\"amount\",attrs:{\"size\":\"large\",\"number\":true},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},on:{\"click\":_vm.amountDecrease},slot:\"prepend\"},[_c('Icon',{attrs:{\"type\":\"android-remove\"}})],1),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"append\"},on:{\"click\":_vm.amountIncrease},slot:\"append\"},[_c('Icon',{attrs:{\"type\":\"android-add\"}})],1)]),_vm._v(\" \"),_c('span',[_vm._v(\"千克\")])],1),_vm._v(\" \"),_c('Col',{staticClass:\"sum-price\",attrs:{\"span\":\"4\"}},[_c('span',[_vm._v(\"小计：\"+_vm._s(_vm._f(\"currency\")(this.productDetail.price * this.amount)))])])],1),_vm._v(\" \"),_c('Tabs',{attrs:{\"value\":\"detail\"}},[_c('TabPane',{attrs:{\"label\":\"图片详情\",\"name\":\"detail-pictures\"}},[_vm._v(\"\\n      Pictures\\n    \")]),_vm._v(\" \"),_c('TabPane',{attrs:{\"label\":\"文字详情\",\"name\":\"detail-description\"}},[_vm._v(\"\\n      Description\\n    \")])],1),_vm._v(\" \"),_c('Row',{staticClass:\"footer\",attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('Col',{staticClass:\"add-to-cart\",attrs:{\"span\":\"6\"}},[_c('div',{on:{\"click\":_vm.addToCart}},[_c('Icon',{attrs:{\"type\":\"ios-cart\",\"size\":24}}),_vm._v(\" \"),_c('span',[_vm._v(\"加入购物车\")])],1)])],1),_vm._v(\" \"),_c('index-footer')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-26341772\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/ProductDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/.13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-26341772\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/.13.7.0@vue-loader/lib/selector?type=styles&index=0!./ProductDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/.13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./ProductDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./ProductDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/.13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-26341772\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/.13.7.0@vue-loader/lib/selector?type=template&index=0!./ProductDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-26341772\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ProductDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}