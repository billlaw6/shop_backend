webpackJsonp([21],{"1UVS":function(e,t,n){"use strict";var o={};n.d(o,"setSitename",function(){return p}),n.d(o,"setDepartments",function(){return f}),n.d(o,"setLoading",function(){return g});var r={};n.d(r,"debug",function(){return h}),n.d(r,"currentUser",function(){return v});var a,i,c,s,u,d=n("FevL"),l=n("EcfS"),m=(n("HiYY"),n("L4P1")),p=function(e,t){var n=e.commit;e.state;n(m.K,t)},f=function(e,t){var n=e.commit;e.state;n(m.z,t)},g=function(e,t){var n=e.commit;e.state;console.debug("set loading action"),n(m.K,t)},h=function(e){return!1},v=function(e){return e.login.currentUser},S=n("WxFH"),w=n.n(S),L=n("3SZ7"),E=n.n(L),b=(a={},w()(a,m.K,function(e,t){e.sitename=t,window.localStorage.setItem("sitename",E()(e.sitename))}),w()(a,m.z,function(e,t){e.departments=t,window.localStorage.setItem("departments",E()(e.departments))}),w()(a,m.B,function(e,t){e.loading=t,window.localStorage.setItem("loading",E()(e.loading))}),a),_=n("m4jk"),R=n("YaEn"),O={namespaced:!0,state:{accessToken:window.localStorage.accessToken?JSON.parse(window.localStorage.accessToken):null,currentUser:window.localStorage.currentUser?JSON.parse(window.localStorage.currentUser):null,currentDepartment:window.localStorage.currentDepartment?JSON.parse(window.localStorage.currentDepartment):null},getters:{loginStatus:function(e,t,n,o){return!!e.currentUser},username:function(e,t,n,o){return null!==e.currentUser?e.currentUser.username:null}},mutations:(i={},w()(i,m.r,function(e,t,n,o){e.accessToken=t,window.localStorage.setItem("accessToken",E()(e.accessToken))}),w()(i,m.y,function(e,t,n,o){e.currentUser=t,window.localStorage.setItem("currentUser",E()(e.currentUser))}),w()(i,m.v,function(e,t){e.currentDepartment=t,t&&(window.localStorage.currentDepartment=E()(e.currentDepartment))}),i),actions:{login:function(e,t){e.dispatch;var n=e.commit,o=(e.rootState,e.rootGetters,t.username),r=t.password;window.localStorage.setItem("currentUser",null),n(m.B,!0,{root:!0}),Object(_.c)({username:o,password:r}).then(function(e){var t=e.data;if(200!==e.status)return e;n(m.r,t.key),Object(_.q)().then(function(e){var t=e.data;if(200!==e.status);else{var o=JSON.parse(t);Object(_.r)().then(function(e){var t=e.data,r=e.status,a=e.statusText;if(200===r)return o.permissions=JSON.parse(t),n(m.y,o),o.dept_belong.length>0&&n(m.v,o.dept_belong[0]),o.is_staff?R.a.push({name:"dashboard"}):R.a.push({name:"user"}),{status:0,data:o};console.debug("Error in getUserPermissions: "+a)},function(e){console.debug("Error in getUserPermissions: "+e)}).catch(function(e){console.debug("catched in getUserPermissions:"+e)})}},function(e){console.debug("Error in getUserInfo: "),console.debug(e)}).catch(function(e){console.debug("catched in getUserInfo:"+e),console.debug(e)})}),n(m.B,!1,{root:!0})},logout:function(e){e.dispatch;var t=e.commit;e.rootState,e.rootGetters;window.localStorage.setItem("currentUser",null),Object(_.d)().then(function(e){if(200!==e.status)return e;t(m.r,null),t(m.y,null)})},setCurrentDepartment:function(e,t){e.dispatch;var n=e.commit;e.getters,e.rootGetters;n(m.v,t)}},modules:{}},A=n("Sxqw"),T=n.n(A),P=n("JU1R"),N=n("3tbc"),M={namespaced:!0,state:{cachePage:window.localStorage.cachePage?JSON.parse(window.localStorage.cachePage):[],lang:"",pageSize:10,isFullScreen:!1,maxSize:1024,openedSubmenuArr:window.localStorage.openedSubmenuArr?JSON.parse(window.localStorage.openedSubmenuArr):[],menuTheme:"dark",themeColor:"",pageOpenedList:[{title:"首页",path:"",name:"home_index"}],currentPageName:"",currentPath:[{title:"首页",path:"",name:"home_index"}],menuList:[],routers:[P.b].concat(T()(P.a)),tagList:[].concat(T()(P.b.children)),messageCount:0,dontCache:["text-editor","artical-publish"],availablePayments:window.localStorage.availablePayments?JSON.parse(window.localStorage.availablePayments):[],availableExpresses:window.localStorage.availableExpresses?JSON.parse(window.localStorage.availableExpresses):[],availableDepartments:window.localStorage.availableDepartments?JSON.parse(window.localStorage.availableDepartments):[],availableLocations:window.localStorage.availableLocations?JSON.parse(window.localStorage.availableLocations):[],availableProducts:window.localStorage.availableProducts?JSON.parse(window.localStorage.availableProducts):[]},getters:{currentUser:function(e,t,n,o){return n.login.currentUser},langList:function(){return N.a}},mutations:(c={},w()(c,m.L,function(e,t){var n;(n=e.tagList).push.apply(n,T()(t))}),w()(c,m.N,function(e,t){e.menuList=t}),w()(c,m.e,function(e,t){e.menuTheme=t}),w()(c,m.d,function(e,t){e.themeColor=t}),w()(c,m.c,function(e,t){var n=!1,o=!1;0===t.length&&(o=!0),e.openedSubmenuArr.indexOf(t)>-1&&(n=!0),n||o||e.openedSubmenuArr.push(t)}),w()(c,m.i,function(e,t){e.cachePage.forEach(function(n,o){n===t&&e.cachePage.splice(o,1)})}),w()(c,m.m,function(e){window.localStorage.cachePage&&(e.cachePage=JSON.parse(window.localStorage.cachePage))}),w()(c,m.q,function(e,t){e.pageOpenedList.map(function(n,o){n.name===t&&e.pageOpenedList.splice(o,1)})}),w()(c,m.n,function(e,t){var n=e.pageOpenedList[t.index];t.argu&&(n.argu=t.argu),t.query&&(n.query=t.query),e.pageOpenedList.splice(t.index,1,n),window.localStorage.pageOpenedList=E()(e.pageOpenedList)}),w()(c,m.f,function(e){e.pageOpenedList.splice(1),e.cachePage.length=0,window.localStorage.pageOpenedList=E()(e.pageOpenedList)}),w()(c,m.h,function(e,t){var n=t.$route.name,o=0;e.pageOpenedList.forEach(function(e,t){e.name===n&&(o=t)}),0===o?e.pageOpenedList.splice(1):(e.pageOpenedList.splice(o+1),e.pageOpenedList.splice(1,o-1));var r=e.cachePage.filter(function(e){return e===n});e.cachePage=r,window.localStorage.pageOpenedList=E()(e.pageOpenedList)}),w()(c,m.G,function(e){e.pageOpenedList=window.localStorage.pageOpenedList?JSON.parse(window.localStorage.pageOpenedList):[P.b.children[0]]}),w()(c,m.x,function(e,t){e.currentPath=t}),w()(c,m.w,function(e,t){e.currentPageName=t}),w()(c,m.s,function(e,t){window.localStorage.avatorImgPath=t}),w()(c,m.M,function(e,t){e.lang=t,d.default.config.lang=t}),w()(c,m.g,function(e){e.openedSubmenuArr.length=0}),w()(c,m.D,function(e,t){e.messageCount=t}),w()(c,m.l,function(e,t){e.pageOpenedList.push(t),window.localStorage.pageOpenedList=E()(e.pageOpenedList)}),w()(c,m.I,function(e,t){e.availableProducts=t,window.localStorage.availableProducts=E()(e.availableProducts)}),w()(c,m.H,function(e,t){e.availablePayments=t,window.localStorage.availablePayments=E()(e.availablePayments)}),w()(c,m.z,function(e,t){e.availableDepartments=t,window.localStorage.availableDepartments=E()(e.availableDepartments)}),w()(c,m.A,function(e,t){e.availableExpresses=t,window.localStorage.availableExpresses=E()(e.availableExpresses)}),w()(c,m.C,function(e,t){e.availableLocations=t,window.localStorage.availableLocations=E()(e.availableLocations)}),c),actions:{setMessageCount:function(e,t){e.dispatch;var n=e.commit;e.getters,e.rootGetters;n(m.D,t)},updateMenuList:function(e,t){e.dispatch;var n=e.commit,o=(e.getters,e.rootGetters),r=[];P.a.forEach(function(e,t){if(void 0!==e.meta.permission){if(o.currentUser&&o.currentUser.permissions.some(function(t,n,o){return t===e.meta.permission}))if(void 0===e.children)r.push(e);else{var n,a=JSON.parse(E()(e));n=e.children.filter(function(e,t,n){return void 0===e.meta.permission?e:o.currentUser.permissions.some(function(t,n,o){return t===e.meta.permission})?e:void 0}),a.children=n,r.push(a)}}else if(void 0===e.children)r.push(e);else{var i,c=JSON.parse(E()(e));i=e.children.filter(function(e,t,n){return void 0===e.meta.permission?e:o.currentUser.permissions.some(function(t,n,o){return t===e.meta.permission})?e:void 0}),c.children=i,r.push(c)}}),n(m.N,r)},setCurrentPageName:function(e,t){e.dispatch;var n=e.commit;e.getters,e.rootGetters;n(m.w,t)},setProducts:function(e){e.dispatch;var t=e.commit;e.getters,e.rootGetters;Object(_.o)({limit:1e4,offset:0}).then(function(e){var n=e.data,o=e.status,r=e.statusText;200!==o?console.log("Error in getPayments:"+r):t(m.I,n.results)},function(e){console.log("Error in getProducts:"+e)})},setPayments:function(e){e.dispatch;var t=e.commit;e.getters,e.rootGetters;Object(_.m)({limit:1e4,offset:0}).then(function(e){var n=e.data,o=e.status,r=e.statusText;200!==o?console.log("Error in getPayments:"+r):t(m.H,n.results)},function(e){console.log("Error in getPayments:"+e)})},setDepartments:function(e){e.dispatch;var t=e.commit;e.getters,e.rootGetters;Object(_.i)({limit:1e4,offset:0}).then(function(e){var n=e.data,o=e.status,r=e.statusText;200!==o?console.log("Error in getDepartments:"+r):t(m.z,n.results)},function(e){console.log("Error in getDepartments:"+e)})},setExpresses:function(e){e.dispatch;var t=e.commit;e.getters,e.rootGetters;Object(_.j)({limit:1e4,offset:0}).then(function(e){var n=e.data,o=e.status,r=e.statusText;200!==o?console.log("Error in getExpresses:"+r):t(m.A,n.results)},function(e){console.log("Error in getExpresses:"+e)})},setLocations:function(e){e.dispatch;var t=e.commit;e.getters,e.rootGetters;Object(_.l)({limit:1e4,offset:0}).then(function(e){var n=e.data,o=e.status,r=e.statusText;200!==o?console.log("Error in getLocations:"+r):t(m.C,n.results)},function(e){console.log("Error in getLocations:"+e)})}}},C={namespaced:!0,state:{productList:window.localStorage.productList?JSON.parse(window.localStorage.productList):[]},getters:{},mutations:w()({},m.J,function(e,t,n,o){e.productList=t,window.localStorage.setItem("productList",E()(e.productList))}),actions:{setProductList:function(e,t){e.dispatch;var n=e.commit;e.getters,e.rootGetters;n(m.J,t)}}},y={namespaced:!0,state:{cartList:window.localStorage.cartList?JSON.parse(window.localStorage.cartList):[],decimals:window.localStorage.decimals?JSON.parse(window.localStorage.decimals):2},getters:{cartListCount:function(e,t,n,o){return e.cartList.length},cartListSum:function(e,t,n,o){var r=0;return e.cartList.forEach(function(e,t){r+=e.sale_price*e.amount}),r}},mutations:(s={},w()(s,m.u,function(e,t,n,o){console.debug("mutation copy_cart received cartList:"),console.debug(t),e.cartList=t,window.localStorage.setItem("cartList",E()(e.cartList))}),w()(s,m.t,function(e,t,n,o){var r=t.item,a=t.amount,i=t.comment,c=-1,s=JSON.parse(E()(e.cartList));s.forEach(function(e,t,n){e.id===r.id&&(c=t)}),console.debug("productIndex: "+c),-1===c?(r.amount=parseFloat(a.toFixed(e.decimals)),r.comment=i,s.push(r),e.cartList=s,window.localStorage.setItem("cartList",E()(e.cartList))):(r.amount=parseFloat(a.toFixed(e.decimals)),r.comment=i,s[c]=r,e.cartList=s,window.localStorage.setItem("cartList",E()(e.cartList)))}),w()(s,m.j,function(e,t,n){console.debug("empty cart in mutation"),e.cartList=[],window.localStorage.setItem("cartList",E()(e.cartList))}),w()(s,m.a,function(e,t,n,o){var r=t.item,a=t.amount,i=t.comment,c=-1;e.cartList.forEach(function(e,t,n){e.id===r.id&&(c=t)}),console.debug("productIndex: "+c),-1===c?(console.debug("not existed"),r.amount=parseFloat(a.toFixed(e.decimals)),r.comment=i,e.cartList.push(r),window.localStorage.setItem("cartList",E()(e.cartList))):(console.debug("existed"),e.cartList[c].amount+=parseFloat(a.toFixed(e.decimals)),e.cartList[c].comment=i,window.localStorage.setItem("cartList",E()(e.cartList)))}),w()(s,m.o,function(e,t,n,o){var r=-1;e.cartList.forEach(function(e,n,o){e.id===t.id&&(r=n)}),-1!==r?(e.cartList.splice(r,1),window.localStorage.setItem("cartList",E()(e.cartList))):console.error("购物车中不存在此商品")}),s),actions:{testAction:function(e){var t=e.dispatch,n=e.commit;e.getters,e.rootGetters;t("someAction"),t("someAction",null,{root:!0}),n("someMutation"),n("someMutation",null,{root:!0})},addCartItem:function(e,t){var n=e.commit,o=e.state,r=(e.getters,e.rootGetters,t.item),a=t.amount,i=t.comment;n(m.a,{item:r,amount:a,comment:i}),o.loginStatus&&console.debug("post cartList to server"),console.debug("state.cartList after commit add:")},decreaseCartItemAmount:function(e,t){var n=e.commit,o=e.state,r=(e.getters,e.rootState);e.rootGetters;n(m.t,{item:t,amount:t.amount-r.saleUnit}),o.loginStatus&&console.debug("post cartList to server"),console.debug("state.cartList after commit add:")},increaseCartItemAmount:function(e,t){var n=e.commit,o=e.state,r=(e.getters,e.rootState);e.rootGetters;n(m.t,{item:t,amount:t.amount+r.saleUnit}),o.loginStatus&&console.debug("post cartList to server"),console.debug("state.cartList after commit add:")},removeCartItem:function(e,t){var n=e.commit,o=e.state;n(m.o,t),console.debug(o.cartList),o.loginStatus&&console.debug("post cartList to server"),console.debug("state.cartList after commit add:")},emptyCart:function(e){var t=e.commit,n=e.state;t(m.j),console.debug("state.cartList after commit emptyCart:"),n.loginStatus?console.debug("post cartList to server"):console.debug("save cartList to localStorage"),console.debug("state.cartList after commit add:")},setCartList:function(e,t){var n=e.commit;e.state;n(m.u,t),console.debug("state.cartList after commit setCartList:")}}},I={namespaced:!0,state:{moveRecordList:window.localStorage.moveRecordList?JSON.parse(window.localStorage.moveRecordList):[],decimals:window.localStorage.decimals?JSON.parse(window.localStorage.decimals):2},getters:{moveRecordListCount:function(e,t,n,o){return e.moveRecordList.length},moveRecordListSum:function(e,t,n,o){var r=0;return e.moveRecordList.forEach(function(e,t){r+=e.price*e.moveAmount}),r}},mutations:(u={},w()(u,m.F,function(e,t,n,o){e.moveRecordList=t,window.localStorage.setItem("moveRecordList",E()(e.moveRecordList))}),w()(u,m.E,function(e,t,n,o){var r=t.item,a=(t.batchNo,t.moveAmount),i=t.comment,c=-1,s=JSON.parse(E()(e.moveRecordList));s.forEach(function(e,t,n){e.id===r.id&&e.batchNo===r.batchNo&&(c=t)}),-1===c?(r.moveAmount=parseFloat(a.toFixed(e.decimals)),r.comment=i,s.push(r),e.moveRecordList=s,window.localStorage.setItem("moveRecordList",E()(e.moveRecordList))):(r.moveAmount=parseFloat(a.toFixed(e.decimals)),r.comment=i,s[c]=r,e.moveRecordList=s,window.localStorage.setItem("moveRecordList",E()(e.moveRecordList)))}),w()(u,m.k,function(e,t,n){e.moveRecordList=[],window.localStorage.setItem("moveRecordList",E()(e.moveRecordList))}),w()(u,m.b,function(e,t,n,o){var r=t.item,a=t.moveAmount,i=t.batchNo,c=t.comment,s=-1;if(e.moveRecordList.forEach(function(e,t,n){e.product.id===r.id&&e.batchNo===i&&(s=t)}),-1===s){var u={};u.product=r,u.moveAmount=parseFloat(a.toFixed(e.decimals)),u.batchNo=i,u.comment=c,e.moveRecordList.push(u),window.localStorage.setItem("moveRecordList",E()(e.moveRecordList))}else e.moveRecordList[s].moveAmount+=parseFloat(a.toFixed(e.decimals)),e.moveRecordList[s].comment=c,window.localStorage.setItem("moveRecordList",E()(e.moveRecordList))}),w()(u,m.p,function(e,t,n,o){var r=-1;e.moveRecordList.forEach(function(e,n,o){e.product.id===t.product.id&&e.batchNo===t.batchNo&&(r=n)}),-1!==r?(e.moveRecordList.splice(r,1),window.localStorage.setItem("moveRecordList",E()(e.moveRecordList))):console.error("列表中不存在此商品")}),u),actions:{addMoveRecordItem:function(e,t){var n=e.commit,o=e.state,r=(e.getters,e.rootGetters,t.item),a=t.moveAmount,i=t.batchNo,c=t.comment;n(m.b,{item:r,moveAmount:a,batchNo:i,comment:c}),o.loginStatus&&console.debug("post moveRecordList to server"),console.debug("state.moveRecordList after commit add:")},decreaseMoveRecordItemAmount:function(e,t){var n=e.commit,o=e.state,r=(e.getters,e.rootState);e.rootGetters;n(m.E,{item:t,moveAmount:t.moveAmount-r.saleUnit}),o.loginStatus&&console.debug("post moveRecordList to server"),console.debug("state.moveRecordList after commit add:")},increaseMoveRecordItemAmount:function(e,t){var n=e.commit,o=e.state,r=(e.getters,e.rootState);e.rootGetters;n(m.E,{item:t,moveAmount:t.moveAmount+r.saleUnit}),o.loginStatus&&console.debug("post moveRecordList to server"),console.debug("state.moveRecordList after commit add:")},removeMoveRecordItem:function(e,t){var n=e.commit,o=e.state;n(m.p,t),console.debug(o.moveRecordList),o.loginStatus&&console.debug("post moveRecordList to server"),console.debug("state.moveRecordList after commit add:")},emptyMoveRecord:function(e){var t=e.commit,n=e.state;t(m.k),console.debug("state.moveRecordList after commit emptyMoveRecord:"),n.loginStatus?console.debug("post moveRecordList to server"):console.debug("save moveRecordList to localStorage"),console.debug("state.moveRecordList after commit add:")},setMoveRecordList:function(e,t){var n=e.commit;e.state;n(m.F,t),console.debug("state.moveRecordList after commit setMoveRecordList:")}}};d.default.use(l.a);var x={loading:!window.localStorage.loading||JSON.parse(window.localStorage.loading),sitename:window.localStorage.sitename?JSON.parse(window.localStorage.sitename):null,departments:window.localStorage.departments?JSON.parse(window.localStorage.departments):null,saleUnit:window.localStorage.saleUnit?JSON.parse(window.localStorage.saleUnit):.1};t.a=new l.a.Store({state:x,mutations:b,getters:r,actions:o,modules:{login:O,app:M,category:C,cart:y,stock:I},strict:!1,plugins:[]})},"3tbc":function(e,t,n){"use strict";t.a={"zh-CN":{keyVal:"zh-CN",lang:"简体中文",home:"首页",switchLangTitle:"切换语言",international:"多语言切换",productManage:"商品管理",validateFailed:"表单校验失败",batchNo:"批号",addToList:"添加至列表",productList:"商品列表",formatError:"请选择正确的文件类型",exceededSizeError:"文件过大，请选择合适大小的文件",exportSourceData:"导出原始数据",exportSortedOrFilteredData:"导出排序或过滤后的数据",exportCustomedData:"导出定制的数据",editProduct:"编辑信息",orderManage:"订单管理",orderDetail:"订单详情",editOrder:"处理",addOrder:"录入",cart:"购物车",remove:"移除",moveAmount:"入出数量",localSearch:"本地搜索",invalidProduct:"请选择正确的商品",invalidAmount:"请输入正确的数量",remoteSearch:"远程搜索",addProduct:"添加商品",orderAddedSucceed:"订单添加成功",noProductError:"请选择商品",noAmountError:"请录入商品数量",noCustomerError:"请选择顾客",noPaymentError:"请选择支付方式",selectDepartment:"请选择当前库房",invalidDepartment:"请选择正确的库房",invalidProductError:"请选择正确的商品",invalidAmountError:"请录入正确的商品数量",invalidCustomerError:"请选择正确的顾客",invalidPaymentError:"请选择正确的支付方式",typeError:"请录入正确的数据类型",order:"订单",orderNo:"订单号",orderProcess:"订单处理",confirmProcess:"确认处理",canceled:"已取消",status:"状态",edit:"编辑",decrease:"减",increase:"增",itemSum:"项目小计",action:"操作",toCheck:"待结算",toMoveIn:"待入库",toMoveOut:"待出库",toBeReceived:"待接收",beChecked:"已结算",beReceived:"已接收",confirmCheck:"确认结算",confirmReceive:"确认接收",confirmMoveIn:"确认入库",confirmMoveOut:"确认出库",sum_price:"金额合计",notEngouthStock:"库存不够",noStock:"没有库存",newStockCreated:"新账页创建成功",delete:"删除",moveIn:"入库",moveOut:"出库",deptIn:"接收库房",deptOut:"发出库房",pageNo:"单号",submitMoveIn:"提交入库单",submitMoveOut:"提交出库单",toDepartment:"出库至",selectToDept:"选择接收库房",stockManage:"库存管理",processSucceed:"操作成功",processFailed:"操作失败",submitSucceed:"提交成功",submitFailed:"提交失败",addStockMoveRecord:"添加出入库",addStockMoveIn:"添加入库",addStockMoveOut:"添加出库",editStockMoveRecord:"处理入出库",addStockCheck:"当前库存",submitMoveRecord:"提交入出库单",userList:"用户列表",permissionManage:"权限管理",department:"库房",submited:"订单",toggle:"开/关",editStockCheck:"处理盘点单",price:"价格",sale_price:"售价",logout:"注销",ownSpace:"个人空间",statsStockMoveRecord:"出入库统计",detail:"明细",sumPrice:"合计",noSalePriceError:"请录入销售价格",product:"商品",selectProduct:"选择商品",amount:"数量",salePrice:"售价",comment:"备注",addToCart:"添加至购物车",submitOrder:"提交订单",customer:"顾客",buyer:"顾客",createdAt:"录入时间",createdBy:"录入人",process:"处理",enter:"订单",sent:"已发货",checked:"已结算",trashed:"已作废",customerManage:"用户信息管理",addCustomer:"添加客户",username:"用户名",cell_phone:"手机号",email:"电子邮箱",last_name:"姓",first_name:"名",send:"发货",check:"结算",trash:"作废",selectCustomer:"选择顾客",express:"快递",payment:"支付方式",expressNo:"快递单号",selectExpress:"选择快递",selectPayment:"选择支付方式",statsOrder:"统计",userManage:"用户管理",iviewComponentTitle:"iview组件多语言切换",tip:"注：iview-admin只是为了示范如何实现多语言切换，所以只对当前页做了翻译。",intro:"iview目前支持15种语言，只要你看得到的iview组件出现iview内置文字的地方都会根据你设置的语言类型自动切换对应的语言。",placeholderText:"请输入文字...",placeholderDate:"选择日期",name:"姓名",company:"公司",btnText:"点击查看模态框",modalText:"在这里你可以看到iview模态框默认的确定和取消按钮会切换语言",poptip:"国际化的气泡提示",showPoptipText:"点击显示气泡提示"}}},Erdk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("GxZn"),r=n.n(o),a=n("FevL"),i=a.default.filter("capitalize",function(e){return e?(e=e.toString()).charAt(0).toUpperCase()+e.slice(1):""}),c=/(\d{3})(?=\d)/g,s=a.default.filter("currency",function(e,t,n){if(e=parseFloat(e),!isFinite(e)||!e&&0!==e)return"";t=null!=t?t:"￥",n=null!=n?n:2;var o=Math.abs(e).toFixed(n),r=n?o.slice(0,-1-n):o,a=r.length%3,i=a>0?r.slice(0,a)+(r.length>3?",":""):"",s=n?o.slice(-1-n):"";return(e<0?"-":"")+t+i+r.slice(a).replace(c,"￥1,")+s}),u=a.default.filter("formatSex",function(e,t){return 1===e.sex?"男":0===e.sex?"女":"未知"}),d=a.default.filter("maskImageUrl",function(e){return"string"==typeof e?e.replace("rest-api/products/shop_frontend/dist/",""):"object"===(void 0===e?"undefined":r()(e))&&e instanceof Array?(e.forEach(function(e,t,n){e.image=e.image.replace("rest-api/products/shop_frontend/dist/","")}),e):void 0});t.default={capitalize:i,formatSex:u,maskImageUrl:d,currency:s}},JU1R:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i});var o=function(e){return Promise.all([n.e(4),n.e(0)]).then(function(){var t=[n("j7e0")];e.apply(null,t)}.bind(this)).catch(n.oe)},r={path:"/home",component:o,meta:{requireAuth:!0,permission:"sale_manage.add_orderdetail"},children:[{path:"",title:{i18n:"dashboard"},name:"dashboard",meta:{requireAuth:!0},component:function(e){return Promise.all([n.e(3),n.e(0)]).then(function(){var t=[n("vp/i")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"ownspace",title:{i18n:"ownspace"},name:"ownspaceIndex",meta:{requireAuth:!0},component:function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){var t=[n("i/Eh")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"message",title:{i18n:"message"},name:"messageIndex",meta:{requireAuth:!0},component:function(e){return n.e(17).then(function(){var t=[n("/P11")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]},a=[{path:"/product-manage",icon:"ios-grid-view",name:"productManage",title:{i18n:"productManage"},meta:{requireAuth:!0,permission:"sale_manage.add_product"},component:o,children:[{path:"list",icon:"ios-grid-view",title:{i18n:"productManage"},name:"editProduct",meta:{requireAuth:!0,permission:"sale_manage.add_product"},component:function(e){return Promise.all([n.e(0),n.e(13)]).then(function(){var t=[n("NR3j")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]},{path:"/order-manage",icon:"ios-list-outline",name:"orderManage",title:{i18n:"orderManage"},meta:{requireAuth:!0,permission:"sale_manage.add_orderdetail"},component:o,children:[{path:"add",icon:"compose",title:{i18n:"addOrder"},name:"addOrder",meta:{requireAuth:!0,permission:"sale_manage.add_orderdetail"},component:function(e){return Promise.all([n.e(0),n.e(6)]).then(function(){var t=[n("2JA4")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"edit",icon:"edit",title:{i18n:"editOrder"},name:"editOrder",meta:{requireAuth:!0,permission:"sale_manage.add_orderdetail"},component:function(e){return Promise.all([n.e(0),n.e(15)]).then(function(){var t=[n("66Dm")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"stats",icon:"stats-bars",title:{i18n:"statsOrder"},name:"statsOrder",meta:{requireAuth:!0,permission:"sale_manage.add_orderdetail"},component:function(e){return n.e(1).then(function(){var t=[n("CzN3")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]},{path:"/stock-manage",icon:"ios-list-outline",name:"stockManage",title:{i18n:"stockManage"},meta:{requireAuth:!0,permission:"sale_manage.add_orderdetail"},component:o,children:[{path:"stock",icon:"compose",title:{i18n:"addStockCheck"},name:"addStockCheck",meta:{requireAuth:!0,permission:"sale_manage.add_orderdetail"},component:function(e){return Promise.all([n.e(0),n.e(12)]).then(function(){var t=[n("3mrQ")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"add",icon:"compose",title:{i18n:"addStockMoveRecord"},name:"addStockMoveRecord",meta:{requireAuth:!0,permission:"sale_manage.add_orderdetail"},component:function(e){return Promise.all([n.e(0),n.e(11)]).then(function(){var t=[n("6tPm")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"edit",icon:"edit",title:{i18n:"editStockMoveRecord"},name:"editStockMoveOut",meta:{requireAuth:!0,permission:"sale_manage.add_orderdetail"},component:function(e){return Promise.all([n.e(0),n.e(10)]).then(function(){var t=[n("1i1A")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"stats",icon:"stats-bars",title:{i18n:"statsStockMoveRecord"},name:"statsStockMoveRecord",meta:{requireAuth:!0,permission:"sale_manage.add_orderdetail"},component:function(e){return n.e(1).then(function(){var t=[n("CzN3")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]},{path:"/user-manage",icon:"person",name:"userManage",title:{i18n:"userManage"},meta:{requireAuth:!0,permission:"sale_manage.add_orderdetail"},component:o,children:[{path:"index",icon:"person-add",title:{i18n:"userList"},name:"userList",meta:{requireAuth:!0,permission:"sale_manage.add_orderdetail"},component:function(e){return n.e(9).then(function(){var t=[n("a/eu")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"index",icon:"key",title:{i18n:"permissionManage"},name:"permissionManage",meta:{requireAuth:!0,permission:"sale_manage.add_orderdetail"},component:function(e){return n.e(18).then(function(){var t=[n("XSpx")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]}],i=[{path:"/",name:"index",icon:"earth",title:{i18n:"index"},component:function(e){return Promise.all([n.e(5),n.e(0)]).then(function(){var t=[n("mlqX")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/login",name:"login",icon:"earth",title:{i18n:"login"},component:function(e){return Promise.all([n.e(0),n.e(16)]).then(function(){var t=[n("lmfZ")];e.apply(null,t)}.bind(this)).catch(n.oe)}},r].concat(a,[{path:"/category/:categoryId",name:"category",icon:"earth",title:{i18n:"category"},component:function(e){return Promise.all([n.e(0),n.e(7)]).then(function(){var t=[n("fXvj")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/detail/:productId",name:"detail",icon:"detail",title:{i18n:"detail"},component:function(e){return Promise.all([n.e(0),n.e(14)]).then(function(){var t=[n("LHHb")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/cart",name:"cart",icon:"cart",title:{i18n:"cart"},component:function(e){return Promise.all([n.e(0),n.e(8)]).then(function(){var t=[n("5Z7Z")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/user",name:"user",icon:"user",title:{i18n:"user"},component:function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){var t=[n("i/Eh")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/403",name:"error403",icon:"error",title:{i18n:"error403"},component:function(e){return n.e(1).then(function(){var t=[n("CzN3")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/404",name:"error404",icon:"error",title:{i18n:"error404"},component:function(e){return n.e(19).then(function(){var t=[n("FTgK")];e.apply(null,t)}.bind(this)).catch(n.oe)}}])},L4P1:function(e,t,n){"use strict";n.d(t,"K",function(){return o}),n.d(t,"z",function(){return r}),n.d(t,"B",function(){return a}),n.d(t,"r",function(){return i}),n.d(t,"y",function(){return c}),n.d(t,"J",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"t",function(){return d}),n.d(t,"o",function(){return l}),n.d(t,"u",function(){return m}),n.d(t,"j",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"E",function(){return g}),n.d(t,"p",function(){return h}),n.d(t,"F",function(){return v}),n.d(t,"k",function(){return S}),n.d(t,"L",function(){return w}),n.d(t,"N",function(){return L}),n.d(t,"e",function(){return E}),n.d(t,"d",function(){return b}),n.d(t,"c",function(){return _}),n.d(t,"i",function(){return R}),n.d(t,"m",function(){return O}),n.d(t,"q",function(){return A}),n.d(t,"n",function(){return T}),n.d(t,"f",function(){return P}),n.d(t,"h",function(){return N}),n.d(t,"G",function(){return M}),n.d(t,"x",function(){return C}),n.d(t,"w",function(){return y}),n.d(t,"s",function(){return I}),n.d(t,"M",function(){return x}),n.d(t,"g",function(){return U}),n.d(t,"D",function(){return k}),n.d(t,"l",function(){return D}),n.d(t,"I",function(){return q}),n.d(t,"H",function(){return G}),n.d(t,"A",function(){return J}),n.d(t,"C",function(){return F}),n.d(t,"v",function(){return j});var o="SET_SITE_NAME",r="SET_DEPARTMENTS",a="SET_LOADING",i="SET_ACCESS_TOKEN",c="SET_CURRENT_USER",s="SET_PRODUCT_LIST",u="ADD_CART_ITEM",d="SET_CART_ITEM_AMOUNT",l="REMOVE_CART_ITEM",m="SET_CART_LIST",p="EMPTY_CART",f="ADD_MOVE_RECORD_ITEM",g="SET_MOVE_RECORD_ITEM_AMOUNT",h="REMOVE_MOVE_RECORD_ITEM",v="SET_MOVE_RECORD_LIST",S="EMPTY_MOVE_RECORD",w="SET_TAG_LIST",L="UPDATE_MENU_LIST",E="CHANGE_MENU_THEME",b="CHANGE_MAIN_THEME",_="ADD_OPENED_SUBMENU",R="CLOSE_PAGE",O="INIT_CACHE_PAGE",A="REMOVE_TAG",T="PAGE_OPENED_LIST",P="CLEAR_ALL_TAGS",N="CLEAR_OTHER_TAGS",M="SET_OPENED_LIST",C="SET_CURRENT_PATH",y="SET_CURRENT_PAGENAME",I="SET_CURRENT_AVATOR",x="SWITCH_LANG",U="CLEAR_OPENED_SUBMENU",k="SET_MESSAGE_COUNT",D="INCREATE_TAG",q="SET_PRODUCTS",G="SET_PAYMENTS",J="SET_EXPRESSES",F="SET_LOCATIONS",j="SET_CURRENT_DEPARTMENT"},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("FevL"),r=n("YaEn"),a=n("1UVS"),i=n("0Apq"),c=n.n(i),s=(n("iCoO"),n("P92s"),n("Dpzq")),u=n.n(s),d=n("Edqs"),l=n.n(d),m=n("3tbc"),p=n("RKon"),f=n("Ovff"),g=n("ipox");o.default.use(u.a),o.default.config.lang="zh-CN";var h=m.a,v=l()(p.a,h["zh-CN"]),S=l()(f.a,h["en-US"]),w=l()(g.a,h["zh-TW"]);o.default.locale("zh-CN",v),o.default.locale("en-US",S),o.default.locale("zh-TW",w);var L=n("Awdv"),E=n.n(L),b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var _=n("ngHh")({name:"app"},b,!1,function(e){n("olZS")},null,null).exports;n("Erdk"),o.default.use(c.a),o.default.use(u.a),o.default.use(E.a,{error:"../../assets/logo.png",loading:"../../assets/logo.png"}),o.default.config.productionTip=!1,new o.default({el:"#app",router:r.a,template:"<App/>",components:{App:_},store:a.a})},P92s:function(e,t){},YaEn:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("FevL"),r=n("1eSk"),a=n("JU1R");o.default.use(r.a);var i={mode:"history",routes:a.c},c=new r.a(i);c.beforeEach(function(e,t,n){var o=JSON.parse(window.localStorage.getItem("currentUser"));e.meta.requireAuth?o?void 0!==e.meta.permission?o&&o.permissions&&e.meta.permission&&o.permissions.some(function(t,n,o){return t===e.meta.permission})?(console.log("Has permission"),n()):(console.log("Lack of permission"),n({path:t.path})):n():n({path:"login"}):n()})},iCoO:function(e,t){},m4jk:function(e,t,n){"use strict";n.d(t,"i",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"s",function(){return l}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return p}),n.d(t,"q",function(){return f}),n.d(t,"r",function(){return g}),n.d(t,"h",function(){return h}),n.d(t,"j",function(){return v}),n.d(t,"m",function(){return S}),n.d(t,"l",function(){return w}),n.d(t,"o",function(){return L}),n.d(t,"v",function(){return E}),n.d(t,"n",function(){return b}),n.d(t,"f",function(){return _}),n.d(t,"x",function(){return R}),n.d(t,"z",function(){return O}),n.d(t,"k",function(){return A}),n.d(t,"b",function(){return T}),n.d(t,"a",function(){return P}),n.d(t,"t",function(){return N}),n.d(t,"p",function(){return M}),n.d(t,"w",function(){return C}),n.d(t,"u",function(){return y}),n.d(t,"e",function(){return I}),n.d(t,"y",function(){return x});var o=n("UIuv"),r=n.n(o),a=n("gCy3"),i=n.n(a),c=n("1UVS"),s=n("YaEn");i.a.defaults.timeout=5e3,i.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",i.a.defaults.headers.post["X-Requested-With"]="XMLHttpRequest",i.a.interceptors.request.use(function(e){return c.a.state.login.accessToken&&(e.headers.Authorization="Token "+c.a.state.login.accessToken),e},function(e){return r.a.reject(e)}),i.a.interceptors.response.use(function(e){return e},function(e){return console.error(e.response),401===e.response.status?(c.a.commit("login/SET_ACCESS_TOKEN",null),s.a.replace({name:"login",query:{redirect:s.a.currentRoute.fullPath}})):console.error(e.response.status),r.a.reject(e)});var u=function(e){return i.a.get("/user-manage/departments/",{params:e}).then(function(e){return e})},d=function(e){return i.a.get("/sale-manage/orders/",{params:e}).then(function(e){return e})},l=function(e){return i.a.post("/sale-manage/order/process/",e).then(function(e){return e})},m=function(e){return i.a.post("/rest-auth/login/",e).then(function(e){return e})},p=function(e){return i.a.post("/rest-auth/logout/",e).then(function(e){return e})},f=function(e){return i.a.get("/user-manage/user-info/",{params:e}).then(function(e){return e})},g=function(e){return i.a.get("/user-manage/user-perms/",{params:e}).then(function(e){return e})},h=function(e){return i.a.get("/user-manage/users/",{params:e}).then(function(e){return e})},v=function(e){return i.a.get("/sale-manage/expresses/",{params:e}).then(function(e){return e})},S=function(e){return i.a.get("/sale-manage/payments/",{params:e}).then(function(e){return e})},w=function(e){return i.a.get("/user-manage/locations/",{params:e}).then(function(e){return e})},L=function(e){return i.a.get("/sale-manage/products/",{params:e}).then(function(e){return e})},E=function(e){return i.a.get("/sale-manage/product/search/",{params:e}).then(function(e){return e})},b=function(e){return i.a.get("/sale-manage/products/"+e).then(function(e){return e})},_=function(e){return i.a.post("/sale-manage/product/create/",e).then(function(e){return e})},R=function(e){return i.a.post("/sale-manage/product/toggle/",e).then(function(e){return e})},O=function(e){return i.a.post("/sale-manage/product/update/",e).then(function(e){return e})},A=function(e){return i.a.get("/sale-manage/hot-products/",{params:e}).then(function(e){return e})},T=function(e){return i.a.post("/sale-manage/order/add/",e).then(function(e){return e})},P=function(e){return i.a.post("/sale-manage/move-record/add/",e).then(function(e){return e})},N=function(e){return i.a.post("/sale-manage/move-record/process/",e).then(function(e){return e})},M=function(e){return i.a.get("/sale-manage/move-record/search/",{params:e}).then(function(e){return e})},C=function(e){return i.a.get("/sale-manage/stock/search/",{params:e}).then(function(e){return e})},y=function(e){return i.a.get("/user-manage/customer/search/",{params:e}).then(function(e){return e})},I=function(e){return i.a.post("/user-manage/customer/create/",e).then(function(e){return e})},x=function(e){return i.a.post("/user-manage/customer/update/",e).then(function(e){return e})}},olZS:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7dc76824a216d6caed23.js.map