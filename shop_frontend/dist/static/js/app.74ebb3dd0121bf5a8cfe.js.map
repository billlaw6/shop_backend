{"version":3,"sources":["webpack:///./src/router/index.js","webpack:///./src/vuex-store/actions.js","webpack:///./src/vuex-store/mutation-types.js","webpack:///./src/vuex-store/getters.js","webpack:///./src/vuex-store/mutations.js","webpack:///./src/vuex-store/modules/login.js","webpack:///./src/vuex-store/index.js","webpack:///./src/common/filters.js","webpack:///./src/App.vue?fd85","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/main.js"],"names":["vue_esm","use","vue_router_esm","router","routes","path","name","component","resolve","Promise","all","__webpack_require__","e","then","__WEBPACK_AMD_REQUIRE_ARRAY__","bind","this","catch","oe","meta","hidden","requireAuth","permission","iconCls","leaf","menu_name","actions_setSitename","_ref","_ref2","commit","state","sitename","console","log","debug","getters_user","login","user","username","mutations","defineProperty_default","accessToken","loginStatus","permissions","getters","rootState","actions","setToken","setLoginStatus","value","setUser","_ref3","_mutations","vuex_esm","vuex_store","Store","baseUrl","mediaRoot","getters_namespaceObject","actions_namespaceObject","modules","strict","plugins","digitsRE","filter","toString","charAt","toUpperCase","slice","row","column","sex","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","normalizeComponent","ssrContext","currency","decimals","parseFloat","isFinite","stringified","Math","abs","toFixed","_int","i","length","head","_float","replace","iview_default","a","mavon_editor_default","_axios_0_17_1_axios_default","interceptors","request","config","window","sessionStorage","headers","Authorization","err","promise_default","reject","beforeEach","to","from","next","getItem","JSON","parse","matched","some","record","codename","query","redirect","fullPath","productionTip","el","template","components","App","store"],"mappings":"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","file":"static/js/app.74ebb3dd0121bf5a8cfe.js","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nconst Home = resolve => require(['@/pages/Home.vue'], resolve)\nconst Product = resolve => require(['@/pages/Product.vue'], resolve)\nconst Login = resolve => require(['@/pages/Login.vue'], resolve)\nconst OauthLogin = resolve => require(['@/pages/OauthLogin.vue'], resolve)\nconst Register = resolve => require(['@/pages/Register.vue'], resolve)\nconst PassReset = resolve => require(['@/pages/PassReset.vue'], resolve)\nconst PassResetConfirm = resolve => require(['@/pages/PassResetConfirm.vue'], resolve)\nconst PassChange = resolve => require(['@/pages/PassChange.vue'], resolve)\nconst Privacy = resolve => require(['@/pages/Privacy.vue'], resolve)\nconst Protocal = resolve => require(['@/pages/Protocal.vue'], resolve)\nconst p401 = resolve => require(['@/pages/401.vue'], resolve)\nconst p404 = resolve => require(['@/pages/404.vue'], resolve)\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/home',\n      name: 'home',\n      component: Home,\n      meta: {\n        hidden: false\n      }\n    },\n    {\n      path: '/product',\n      name: 'product',\n      component: Product,\n      meta: {\n        hidden: false\n      }\n    },\n    {\n      path: '/login',\n      name: 'login',\n      component: Login,\n      meta: {\n        hidden: false\n      }\n    },\n    {\n      path: '/oauthLogin',\n      name: 'oauthLogin',\n      component: OauthLogin,\n      meta: {\n        hidden: false\n      }\n    },\n    {\n      path: '/pass_reset',\n      name: 'pass_reset',\n      component: PassReset,\n      meta: {\n        hidden: false\n      }\n    },\n    {\n      path: '/pass_reset_confirm',\n      name: 'pass_reset_confirm',\n      component: PassResetConfirm,\n      meta: {\n        hidden: false\n      }\n    },\n    {\n      path: '/password_change',\n      name: 'pass_change',\n      component: PassChange,\n      meta: {\n        hidden: false\n      }\n    },\n    {\n      path: '/register',\n      name: 'register',\n      component: Register,\n      meta: {\n        hidden: false\n      }\n    },\n    {\n      path: '/protocal',\n      name: 'Protocal',\n      component: Protocal,\n      meta: {\n        hidden: false\n      }\n    },\n    {\n      path: '/privacy',\n      name: 'privacy',\n      component: Privacy,\n      meta: {\n        hidden: false\n      }\n    },\n    {\n      path: '/401',\n      name: 'p401',\n      component: p401,\n      meta: {\n        requireAuth: true,\n        permission: 'add_group',\n        iconCls: 'ios-star',\n        leaf: true,\n        menu_name: '商品管理',\n        hidden: false\n      }\n    },\n    {\n      path: '/404',\n      name: 'p404',\n      component: p404,\n      meta: {\n        requireAuth: false,\n        permission: 'add_group',\n        iconCls: 'ios-star',\n        leaf: true,\n        menu_name: '商品管理',\n        hidden: false\n      }\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// 根级别的 action\nimport * as types from './mutation-types'\n\n// Action 函数接受一个与 store 实例具有相同方法和属性的 context 对象，因此你可以调用 context.commit 提交一个 mutation，或者通过 context.state 和 context.getters 来获取 state 和 getters。\nexport const setSitename = ({ commit, state }, { sitename }) => {\n  commit(types.SET_SITE_NAME, { sitename })\n  console.log(state.sitename)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex-store/actions.js","// Root mutations\nexport const SET_SITE_NAME = 'SET_SITE_NAME'\n\n// module mutations\nexport const SET_ACCESS_TOKEN = 'login/SET_ACCESS_TOKEN'\nexport const SET_LOGIN_INFO = 'login/SET_LOGIN_INFO'\nexport const SET_LOGIN_STATUS = 'login/SET_LOGIN_STATUS'\nexport const SET_CURRENT_USER = 'login/SET_CURRENT_USER'\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex-store/mutation-types.js","// 根级别的 getter\n// 有时候我们需要从 store 中的 state 中派生出一些状态\n\nexport const debug = state => {\n  return process.env.NODE_ENV !== 'production'\n}\n\nexport const user = state => {\n  return state.login.user\n}\n\nexport const username = state => {\n  if (state.login.user !== null) {\n    console.log('has username')\n    return state.login.user.username\n  } else {\n    console.log('no username')\n    return null\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex-store/getters.js","// 根级别的 mutation\nimport * as types from './mutation-types'\n\n// Only one default export allowed per module.\nexport default {\n  // 这是对象内方法的简化写法 es6\n  // 全部展开是这样的 [types.SET_SITE_NAME]: (state, { sitename }) => {\n  [types.SET_SITE_NAME] (state, { sitename }) {\n    state.sitename = sitename\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex-store/mutations.js","import * as types from '../mutation-types'\n// 模块内部的 action、mutation、和 getter 现在仍然注册在全局命名空间——这样保证了多个模块能够响应同一 mutation 或 action。你可以通过添加前缀或后缀的方式隔离各模块，以避免名称冲突。\n\n// initial state\nconst state = {\n  accessToken: null,\n  loginStatus: false,\n  user: null,\n  permissions: null\n}\n\n// getters\nconst getters = {\n  // 对于模块内部的 getter，根节点状态会作为第三个参数\n  loginStatus (state, getters, rootState) {\n    return state.loginStatus\n  },\n  permissions (state, getters, rootState) {\n    return state.permissions\n  }\n}\n\n// mutations\n// 对于模块内部的 mutation 和 getter，接收的第一个参数是模块的局部状态。\n// all mutations should be maped into mutation-types.js\n// 没找到在module的mutation中修改rootState的方法\nconst mutations = {\n  [types.SET_ACCESS_TOKEN] (state, accessToken) {\n    state.accessToken = accessToken\n  },\n  [types.SET_LOGIN_STATUS] (state, value) {\n    state.loginStatus = value\n  },\n  [types.SET_CURRENT_USER] (state, user) {\n    state.user = user\n  }\n}\n\n// actions  state.store.commit\n// 同样，对于模块内部的 action，context.state 是局部状态，根节点的状态是 context.rootState\nconst actions = {\n  setToken ({ state, commit, rootState }, accessToken) {\n    commit(types.SET_ACCESS_TOKEN, accessToken)\n  },\n  setLoginStatus ({ state, commit, rootState }, value) {\n    commit(types.SET_LOGIN_STATUS, value)\n  },\n  setUser ({ state, commit, rootState }, user) {\n    commit(types.SET_CURRENT_USER, user)\n  }\n}\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex-store/modules/login.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport createLogger from 'vuex/dist/logger'\n\nimport * as actions from './actions'\nimport * as getters from './getters'\nimport mutations from './mutations'\nimport login from './modules/login'\n\nVue.use(Vuex)\n\n// rootState\nconst state = {\n  sitename: '小蜗牛直销管理系统',\n  baseUrl: 'http://localhost:8000',\n  mediaRoot: 'http://localhost:8000/media/'\n}\n\nconst debug = process.env.NODE_ENV !== 'production'\n\nexport default new Vuex.Store({\n  state,\n  mutations,\n  getters,\n  actions,\n  modules: {\n    login: login\n  },\n  strict: debug,\n  plugins: debug ? [createLogger()] : []\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex-store/index.js","import Vue from 'vue'\n\nexport const capitalize = Vue.filter('capitalize', function (value) {\n  if (!value) return ''\n  value = value.toString()\n  return value.charAt(0).toUpperCase() + value.slice(1)\n})\n\nconst digitsRE = /(\\d{3})(?=\\d)/g\nexport function currency (value, currency, decimals) {\n  value = parseFloat(value)\n  if (!isFinite(value) || (!value && value !== 0)) return ''\n  currency = currency != null ? currency : '￥'\n  decimals = decimals != null ? decimals : 2\n  let stringified = Math.abs(value).toFixed(decimals)\n  let _int = decimals ? stringified.slice(0, -1 - decimals) : stringified\n  let i = _int.length % 3\n  let head = i > 0 ? (_int.slice(0, i) + (_int.length > 3 ? ',' : '')) : ''\n  let _float = decimals ? stringified.slice(-1 - decimals) : ''\n  let sign = value < 0 ? '-' : ''\n  return sign + currency + head + _int.slice(i).replace(digitsRE, '￥1,') + _float\n}\n\nexport const formatSex = Vue.filter('formatSex', function (row, column) {\n  return row.sex === 1 ? '男' : row.sex === 0 ? '女' : '未知'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/filters.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-13b2db24\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-13b2db24\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-13b2db24\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.0@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style lang=\"stylus\">\n  @import './styles/vars'\n  body\n    background-color: background-color\n  #app\n    font-family: font-family \n    color: color\n    background-color: background-color\n    title-color: title-color\n    border-color: border-color\n    shadow-color: shadow-color\n    border-radius: border-radius\n \n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport router from './router'\nimport iView from 'iview'\nimport mavonEditor from 'mavon-editor'\n// import 'iview/dist/styles/iviews.css'\n// import '../node_modules/.2.8.0@iview/dist/styles/iview.css'\n// import '../node_modules/_iview@2.8.0@iview/dist/styles/iview.css'\nimport '../node_modules/_iview@2.9.0@iview/dist/styles/iview.css'\nimport '../node_modules/mavon-editor/dist/css/index.css'\nimport store from './vuex-store/index'\nimport axios from 'axios'\nimport { currency } from './common/filters'\nimport App from './App'\n\nVue.filter('currency', currency)\nVue.use(iView)\nVue.use(mavonEditor)\n\n// 如果本地有Token则每次请求都带上Token\naxios.interceptors.request.use(\n  config => {\n    let accessToken = window.sessionStorage.accessToken\n    if (accessToken) {\n      // console.log('setting accessToken to: ' + accessToken)\n      config.headers.Authorization = `Token ${accessToken}`\n    } else {\n      // console.log('No accessToken')\n    }\n    return config\n  },\n  err => {\n    return Promise.reject(err)\n  }\n)\n\nrouter.beforeEach((to, from, next) => {\n  // 判断该路由是否需要登录权限\n  let accessToken = window.sessionStorage.getItem('accessToken')\n  // window.sessionStorage.removeItem('user')\n  let user = JSON.parse(window.sessionStorage.getItem('user'))\n  let permissions = JSON.parse(window.sessionStorage.getItem('permissions'))\n  if (to.matched.some(record => record.meta.requireAuth)) {\n    // console.log('page require Authorization here')\n    if (accessToken && user) {\n      if (to.meta.permission === 'undefined') {\n        console.log(permissions.some(to.meta.permission))\n        next()\n      } else if (permissions.some(record => record.codename === to.meta.permission)) {\n        console.log('Has permission')\n        next()\n      } else {\n        console.log('Lack of permission')\n        next({ path: from.path })\n      }\n    } else {\n      next({\n        name: 'login',\n        query: { redirect: to.fullPath }\n      })\n    }\n  } else {\n    next()\n  }\n})\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App },\n  store\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}