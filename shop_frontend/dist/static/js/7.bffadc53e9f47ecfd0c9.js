webpackJsonp([7],{"7Aj2":function(t,e){},ZTBs:function(t,e,a){"use strict";var s=a("34v0"),n=a.n(s),o=a("EcfS"),i={props:{item:{type:Object,default:{}}},data:function(){return{amount:1}},computed:n()({},Object(o.e)({decimals:function(t){return t.cart.decimals},saleUnit:function(t){return t.saleUnit}}),{imageUrl:function(){return this.item.image?this.item.image.replace("sale-manage/products/shop_frontend/dist/",""):""}}),methods:{amountDecrease:function(){console.debug("amount decrease"),this.amount>.2&&(this.amount=parseFloat((this.amount-this.saleUnit).toFixed(this.decimals)))},amountIncrease:function(){console.debug("amount increase"),parseFloat(this.amount)<99&&(this.amount=parseFloat((this.amount+this.saleUnit).toFixed(this.decimals)))},addToCart:function(){console.debug("add to cart"),this.$store.dispatch("cart/addCartItem",{item:this.item,amount:this.amount}),this.$Message.success({title:"加入购物车成功",content:"加入购物车成功"})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product"},[a("router-link",{attrs:{to:{name:"detail",params:{productId:t.item.id}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imageUrl,expression:"imageUrl"}],attrs:{alt:"product"}}),a("br"),t._v(" "),a("span",{staticClass:"name"},[t._v(t._s(t.item.name))]),t._v(" "),a("span",{staticClass:"price"},[t._v(t._s(t._f("currency")(t.item.price)))])]),t._v(" "),a("div",{staticClass:"product-operate"},[a("Input",{staticClass:"amount",attrs:{size:"large",number:!0},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}},[a("span",{attrs:{slot:"prepend"},on:{click:t.amountDecrease},slot:"prepend"},[a("Icon",{attrs:{type:"android-remove"}})],1),t._v(" "),a("span",{attrs:{slot:"append"},on:{click:t.amountIncrease},slot:"append"},[a("Icon",{attrs:{type:"android-add"}})],1)]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.addToCart}},[t._v("加入购物车")])],1)],1)},staticRenderFns:[]};var c=a("ngHh")(i,r,!1,function(t){a("ZkPa")},"data-v-f8b9274e",null);e.a=c.exports},ZkPa:function(t,e){},fXvj:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("3SZ7"),n=a.n(s),o=a("34v0"),i=a.n(o),r=a("IPfJ"),c=a("ZTBs"),u=a("/e58"),d=a("m4jk"),l=a("EcfS"),m={components:{"index-header":r.a,"v-product":c.a,"index-footer":u.a},data:function(){return{allData:""}},computed:i()({},Object(l.e)("category",{pList:function(t){return t.productList}}),Object(l.c)("category",["productListCount"])),methods:i()({},Object(l.b)({setProductList:"category/setProductList"})),beforeCreate:function(){var t=this;this.productListCount?console.debug("local products is empty"):Object(d.o)().then(function(e){var a=t;console.debug("data gotton in Products:"),console.debug(e.data),t.datas=e.data,t.mList=JSON.parse(n()(e.data)),a.setProductList(t.mList).then(function(){console.debug("state product list set")})}).catch(function(t){console.error(t)})}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"category"},[e("index-header"),this._v(" "),e("div",{staticClass:"category"},[e("ul",{staticClass:"product-list"},this._l(this.pList.results,function(t){return e("li",{key:t.id,staticClass:"product"},[e("v-product",{attrs:{item:t}})],1)}))]),this._v(" "),e("index-footer")],1)},staticRenderFns:[]};var f=a("ngHh")(m,p,!1,function(t){a("7Aj2")},"data-v-bc06538c",null);e.default=f.exports}});
//# sourceMappingURL=7.bffadc53e9f47ecfd0c9.js.map